This file is a merged representation of the entire codebase, combined into a single document by Repomix.

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
.gitignore
.mvn/wrapper/maven-wrapper.properties
mvnw
mvnw.cmd
pom.xml
README.md
src/main/java/com/queryresolvingsystem/bean/Employee.java
src/main/java/com/queryresolvingsystem/bean/Engineer.java
src/main/java/com/queryresolvingsystem/bean/RaisedComplain.java
src/main/java/com/queryresolvingsystem/dao/Dao_Implements.java
src/main/java/com/queryresolvingsystem/dao/Dao_Interface.java
src/main/java/com/queryresolvingsystem/DB_util/DB_Connect.java
src/main/java/com/queryresolvingsystem/exceptions/EmployeeException.java
src/main/java/com/queryresolvingsystem/exceptions/EngineerException.java
src/main/java/com/queryresolvingsystem/web/EmployeeServlet.java
src/main/java/com/queryresolvingsystem/web/EngineerServlet.java
src/main/java/com/queryresolvingsystem/web/HOD_Servlet.java
src/main/webapp/afterlogin.jsp
src/main/webapp/allcomplains.jsp
src/main/webapp/assignedSuccessful.jsp
src/main/webapp/assignengineer.jsp
src/main/webapp/attemptedqueries.jsp
src/main/webapp/changeEmpPassword.jsp
src/main/webapp/changeengineerpass.jsp
src/main/webapp/checkcstatus.jsp
src/main/webapp/complainhistory.jsp
src/main/webapp/employeenavbar.jsp
src/main/webapp/engineerlist.jsp
src/main/webapp/engineerlogin.jsp
src/main/webapp/engineernavbar.jsp
src/main/webapp/Error.jsp
src/main/webapp/ErrorAssignTask.jsp
src/main/webapp/generatedTicketId.jsp
src/main/webapp/HOD_login.jsp
src/main/webapp/home.jsp
src/main/webapp/loginemployee.jsp
src/main/webapp/navbar.jsp
src/main/webapp/newtasktoengineer.jsp
src/main/webapp/querylist.jsp
src/main/webapp/registerComplain.jsp
src/main/webapp/registerengineer.jsp
src/main/webapp/searchresult.jsp
src/main/webapp/signup.jsp
src/main/webapp/success.jsp
src/main/webapp/successP.jsp
src/main/webapp/updatestatus.jsp
src/main/webapp/WEB-INF/web.xml
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path=".gitignore">
target/
!.mvn/wrapper/maven-wrapper.jar
!**/src/main/**/target/
!**/src/test/**/target/

### IntelliJ IDEA ###
.idea/modules.xml
.idea/jarRepositories.xml
.idea/compiler.xml
.idea/libraries/
*.iws
*.iml
*.ipr

### Eclipse ###
.apt_generated
.classpath
.factorypath
.project
.settings
.springBeans
.sts4-cache

### NetBeans ###
/nbproject/private/
/nbbuild/
/dist/
/nbdist/
/.nb-gradle/
build/
!**/src/main/**/build/
!**/src/test/**/build/

### VS Code ###
.vscode/

### Mac OS ###
.DS_Store
</file>

<file path=".mvn/wrapper/maven-wrapper.properties">
distributionUrl=https://repo.maven.apache.org/maven2/org/apache/maven/apache-maven/3.8.4/apache-maven-3.8.4-bin.zip
wrapperUrl=https://repo.maven.apache.org/maven2/org/apache/maven/wrapper/maven-wrapper/3.1.0/maven-wrapper-3.1.0.jar
</file>

<file path="mvnw">
#!/bin/sh
# ----------------------------------------------------------------------------
# Licensed to the Apache Software Foundation (ASF) under one
# or more contributor license agreements.  See the NOTICE file
# distributed with this work for additional information
# regarding copyright ownership.  The ASF licenses this file
# to you under the Apache License, Version 2.0 (the
# "License"); you may not use this file except in compliance
# with the License.  You may obtain a copy of the License at
#
#    https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing,
# software distributed under the License is distributed on an
# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
# KIND, either express or implied.  See the License for the
# specific language governing permissions and limitations
# under the License.
# ----------------------------------------------------------------------------

# ----------------------------------------------------------------------------
# Maven Start Up Batch script
#
# Required ENV vars:
# ------------------
#   JAVA_HOME - location of a JDK home dir
#
# Optional ENV vars
# -----------------
#   M2_HOME - location of maven2's installed home dir
#   MAVEN_OPTS - parameters passed to the Java VM when running Maven
#     e.g. to debug Maven itself, use
#       set MAVEN_OPTS=-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8000
#   MAVEN_SKIP_RC - flag to disable loading of mavenrc files
# ----------------------------------------------------------------------------

if [ -z "$MAVEN_SKIP_RC" ] ; then

  if [ -f /usr/local/etc/mavenrc ] ; then
    . /usr/local/etc/mavenrc
  fi

  if [ -f /etc/mavenrc ] ; then
    . /etc/mavenrc
  fi

  if [ -f "$HOME/.mavenrc" ] ; then
    . "$HOME/.mavenrc"
  fi

fi

# OS specific support.  $var _must_ be set to either true or false.
cygwin=false;
darwin=false;
mingw=false
case "`uname`" in
  CYGWIN*) cygwin=true ;;
  MINGW*) mingw=true;;
  Darwin*) darwin=true
    # Use /usr/libexec/java_home if available, otherwise fall back to /Library/Java/Home
    # See https://developer.apple.com/library/mac/qa/qa1170/_index.html
    if [ -z "$JAVA_HOME" ]; then
      if [ -x "/usr/libexec/java_home" ]; then
        export JAVA_HOME="`/usr/libexec/java_home`"
      else
        export JAVA_HOME="/Library/Java/Home"
      fi
    fi
    ;;
esac

if [ -z "$JAVA_HOME" ] ; then
  if [ -r /etc/gentoo-release ] ; then
    JAVA_HOME=`java-config --jre-home`
  fi
fi

if [ -z "$M2_HOME" ] ; then
  ## resolve links - $0 may be a link to maven's home
  PRG="$0"

  # need this for relative symlinks
  while [ -h "$PRG" ] ; do
    ls=`ls -ld "$PRG"`
    link=`expr "$ls" : '.*-> \(.*\)$'`
    if expr "$link" : '/.*' > /dev/null; then
      PRG="$link"
    else
      PRG="`dirname "$PRG"`/$link"
    fi
  done

  saveddir=`pwd`

  M2_HOME=`dirname "$PRG"`/..

  # make it fully qualified
  M2_HOME=`cd "$M2_HOME" && pwd`

  cd "$saveddir"
  # echo Using m2 at $M2_HOME
fi

# For Cygwin, ensure paths are in UNIX format before anything is touched
if $cygwin ; then
  [ -n "$M2_HOME" ] &&
    M2_HOME=`cygpath --unix "$M2_HOME"`
  [ -n "$JAVA_HOME" ] &&
    JAVA_HOME=`cygpath --unix "$JAVA_HOME"`
  [ -n "$CLASSPATH" ] &&
    CLASSPATH=`cygpath --path --unix "$CLASSPATH"`
fi

# For Mingw, ensure paths are in UNIX format before anything is touched
if $mingw ; then
  [ -n "$M2_HOME" ] &&
    M2_HOME="`(cd "$M2_HOME"; pwd)`"
  [ -n "$JAVA_HOME" ] &&
    JAVA_HOME="`(cd "$JAVA_HOME"; pwd)`"
fi

if [ -z "$JAVA_HOME" ]; then
  javaExecutable="`which javac`"
  if [ -n "$javaExecutable" ] && ! [ "`expr \"$javaExecutable\" : '\([^ ]*\)'`" = "no" ]; then
    # readlink(1) is not available as standard on Solaris 10.
    readLink=`which readlink`
    if [ ! `expr "$readLink" : '\([^ ]*\)'` = "no" ]; then
      if $darwin ; then
        javaHome="`dirname \"$javaExecutable\"`"
        javaExecutable="`cd \"$javaHome\" && pwd -P`/javac"
      else
        javaExecutable="`readlink -f \"$javaExecutable\"`"
      fi
      javaHome="`dirname \"$javaExecutable\"`"
      javaHome=`expr "$javaHome" : '\(.*\)/bin'`
      JAVA_HOME="$javaHome"
      export JAVA_HOME
    fi
  fi
fi

if [ -z "$JAVACMD" ] ; then
  if [ -n "$JAVA_HOME"  ] ; then
    if [ -x "$JAVA_HOME/jre/sh/java" ] ; then
      # IBM's JDK on AIX uses strange locations for the executables
      JAVACMD="$JAVA_HOME/jre/sh/java"
    else
      JAVACMD="$JAVA_HOME/bin/java"
    fi
  else
    JAVACMD="`\\unset -f command; \\command -v java`"
  fi
fi

if [ ! -x "$JAVACMD" ] ; then
  echo "Error: JAVA_HOME is not defined correctly." >&2
  echo "  We cannot execute $JAVACMD" >&2
  exit 1
fi

if [ -z "$JAVA_HOME" ] ; then
  echo "Warning: JAVA_HOME environment variable is not set."
fi

CLASSWORLDS_LAUNCHER=org.codehaus.plexus.classworlds.launcher.Launcher

# traverses directory structure from process work directory to filesystem root
# first directory with .mvn subdirectory is considered project base directory
find_maven_basedir() {

  if [ -z "$1" ]
  then
    echo "Path not specified to find_maven_basedir"
    return 1
  fi

  basedir="$1"
  wdir="$1"
  while [ "$wdir" != '/' ] ; do
    if [ -d "$wdir"/.mvn ] ; then
      basedir=$wdir
      break
    fi
    # workaround for JBEAP-8937 (on Solaris 10/Sparc)
    if [ -d "${wdir}" ]; then
      wdir=`cd "$wdir/.."; pwd`
    fi
    # end of workaround
  done
  echo "${basedir}"
}

# concatenates all lines of a file
concat_lines() {
  if [ -f "$1" ]; then
    echo "$(tr -s '\n' ' ' < "$1")"
  fi
}

BASE_DIR=`find_maven_basedir "$(pwd)"`
if [ -z "$BASE_DIR" ]; then
  exit 1;
fi

##########################################################################################
# Extension to allow automatically downloading the maven-wrapper.jar from Maven-central
# This allows using the maven wrapper in projects that prohibit checking in binary data.
##########################################################################################
if [ -r "$BASE_DIR/.mvn/wrapper/maven-wrapper.jar" ]; then
    if [ "$MVNW_VERBOSE" = true ]; then
      echo "Found .mvn/wrapper/maven-wrapper.jar"
    fi
else
    if [ "$MVNW_VERBOSE" = true ]; then
      echo "Couldn't find .mvn/wrapper/maven-wrapper.jar, downloading it ..."
    fi
    if [ -n "$MVNW_REPOURL" ]; then
      jarUrl="$MVNW_REPOURL/org/apache/maven/wrapper/maven-wrapper/3.1.0/maven-wrapper-3.1.0.jar"
    else
      jarUrl="https://repo.maven.apache.org/maven2/org/apache/maven/wrapper/maven-wrapper/3.1.0/maven-wrapper-3.1.0.jar"
    fi
    while IFS="=" read key value; do
      case "$key" in (wrapperUrl) jarUrl="$value"; break ;;
      esac
    done < "$BASE_DIR/.mvn/wrapper/maven-wrapper.properties"
    if [ "$MVNW_VERBOSE" = true ]; then
      echo "Downloading from: $jarUrl"
    fi
    wrapperJarPath="$BASE_DIR/.mvn/wrapper/maven-wrapper.jar"
    if $cygwin; then
      wrapperJarPath=`cygpath --path --windows "$wrapperJarPath"`
    fi

    if command -v wget > /dev/null; then
        if [ "$MVNW_VERBOSE" = true ]; then
          echo "Found wget ... using wget"
        fi
        if [ -z "$MVNW_USERNAME" ] || [ -z "$MVNW_PASSWORD" ]; then
            wget "$jarUrl" -O "$wrapperJarPath" || rm -f "$wrapperJarPath"
        else
            wget --http-user=$MVNW_USERNAME --http-password=$MVNW_PASSWORD "$jarUrl" -O "$wrapperJarPath" || rm -f "$wrapperJarPath"
        fi
    elif command -v curl > /dev/null; then
        if [ "$MVNW_VERBOSE" = true ]; then
          echo "Found curl ... using curl"
        fi
        if [ -z "$MVNW_USERNAME" ] || [ -z "$MVNW_PASSWORD" ]; then
            curl -o "$wrapperJarPath" "$jarUrl" -f
        else
            curl --user $MVNW_USERNAME:$MVNW_PASSWORD -o "$wrapperJarPath" "$jarUrl" -f
        fi

    else
        if [ "$MVNW_VERBOSE" = true ]; then
          echo "Falling back to using Java to download"
        fi
        javaClass="$BASE_DIR/.mvn/wrapper/MavenWrapperDownloader.java"
        # For Cygwin, switch paths to Windows format before running javac
        if $cygwin; then
          javaClass=`cygpath --path --windows "$javaClass"`
        fi
        if [ -e "$javaClass" ]; then
            if [ ! -e "$BASE_DIR/.mvn/wrapper/MavenWrapperDownloader.class" ]; then
                if [ "$MVNW_VERBOSE" = true ]; then
                  echo " - Compiling MavenWrapperDownloader.java ..."
                fi
                # Compiling the Java class
                ("$JAVA_HOME/bin/javac" "$javaClass")
            fi
            if [ -e "$BASE_DIR/.mvn/wrapper/MavenWrapperDownloader.class" ]; then
                # Running the downloader
                if [ "$MVNW_VERBOSE" = true ]; then
                  echo " - Running MavenWrapperDownloader.java ..."
                fi
                ("$JAVA_HOME/bin/java" -cp .mvn/wrapper MavenWrapperDownloader "$MAVEN_PROJECTBASEDIR")
            fi
        fi
    fi
fi
##########################################################################################
# End of extension
##########################################################################################

export MAVEN_PROJECTBASEDIR=${MAVEN_BASEDIR:-"$BASE_DIR"}
if [ "$MVNW_VERBOSE" = true ]; then
  echo $MAVEN_PROJECTBASEDIR
fi
MAVEN_OPTS="$(concat_lines "$MAVEN_PROJECTBASEDIR/.mvn/jvm.config") $MAVEN_OPTS"

# For Cygwin, switch paths to Windows format before running java
if $cygwin; then
  [ -n "$M2_HOME" ] &&
    M2_HOME=`cygpath --path --windows "$M2_HOME"`
  [ -n "$JAVA_HOME" ] &&
    JAVA_HOME=`cygpath --path --windows "$JAVA_HOME"`
  [ -n "$CLASSPATH" ] &&
    CLASSPATH=`cygpath --path --windows "$CLASSPATH"`
  [ -n "$MAVEN_PROJECTBASEDIR" ] &&
    MAVEN_PROJECTBASEDIR=`cygpath --path --windows "$MAVEN_PROJECTBASEDIR"`
fi

# Provide a "standardized" way to retrieve the CLI args that will
# work with both Windows and non-Windows executions.
MAVEN_CMD_LINE_ARGS="$MAVEN_CONFIG $@"
export MAVEN_CMD_LINE_ARGS

WRAPPER_LAUNCHER=org.apache.maven.wrapper.MavenWrapperMain

exec "$JAVACMD" \
  $MAVEN_OPTS \
  $MAVEN_DEBUG_OPTS \
  -classpath "$MAVEN_PROJECTBASEDIR/.mvn/wrapper/maven-wrapper.jar" \
  "-Dmaven.home=${M2_HOME}" \
  "-Dmaven.multiModuleProjectDirectory=${MAVEN_PROJECTBASEDIR}" \
  ${WRAPPER_LAUNCHER} $MAVEN_CONFIG "$@"
</file>

<file path="mvnw.cmd">
@REM ----------------------------------------------------------------------------
@REM Licensed to the Apache Software Foundation (ASF) under one
@REM or more contributor license agreements.  See the NOTICE file
@REM distributed with this work for additional information
@REM regarding copyright ownership.  The ASF licenses this file
@REM to you under the Apache License, Version 2.0 (the
@REM "License"); you may not use this file except in compliance
@REM with the License.  You may obtain a copy of the License at
@REM
@REM    https://www.apache.org/licenses/LICENSE-2.0
@REM
@REM Unless required by applicable law or agreed to in writing,
@REM software distributed under the License is distributed on an
@REM "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
@REM KIND, either express or implied.  See the License for the
@REM specific language governing permissions and limitations
@REM under the License.
@REM ----------------------------------------------------------------------------

@REM ----------------------------------------------------------------------------
@REM Maven Start Up Batch script
@REM
@REM Required ENV vars:
@REM JAVA_HOME - location of a JDK home dir
@REM
@REM Optional ENV vars
@REM M2_HOME - location of maven2's installed home dir
@REM MAVEN_BATCH_ECHO - set to 'on' to enable the echoing of the batch commands
@REM MAVEN_BATCH_PAUSE - set to 'on' to wait for a keystroke before ending
@REM MAVEN_OPTS - parameters passed to the Java VM when running Maven
@REM     e.g. to debug Maven itself, use
@REM set MAVEN_OPTS=-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8000
@REM MAVEN_SKIP_RC - flag to disable loading of mavenrc files
@REM ----------------------------------------------------------------------------

@REM Begin all REM lines with '@' in case MAVEN_BATCH_ECHO is 'on'
@echo off
@REM set title of command window
title %0
@REM enable echoing by setting MAVEN_BATCH_ECHO to 'on'
@if "%MAVEN_BATCH_ECHO%" == "on"  echo %MAVEN_BATCH_ECHO%

@REM set %HOME% to equivalent of $HOME
if "%HOME%" == "" (set "HOME=%HOMEDRIVE%%HOMEPATH%")

@REM Execute a user defined script before this one
if not "%MAVEN_SKIP_RC%" == "" goto skipRcPre
@REM check for pre script, once with legacy .bat ending and once with .cmd ending
if exist "%USERPROFILE%\mavenrc_pre.bat" call "%USERPROFILE%\mavenrc_pre.bat" %*
if exist "%USERPROFILE%\mavenrc_pre.cmd" call "%USERPROFILE%\mavenrc_pre.cmd" %*
:skipRcPre

@setlocal

set ERROR_CODE=0

@REM To isolate internal variables from possible post scripts, we use another setlocal
@setlocal

@REM ==== START VALIDATION ====
if not "%JAVA_HOME%" == "" goto OkJHome

echo.
echo Error: JAVA_HOME not found in your environment. >&2
echo Please set the JAVA_HOME variable in your environment to match the >&2
echo location of your Java installation. >&2
echo.
goto error

:OkJHome
if exist "%JAVA_HOME%\bin\java.exe" goto init

echo.
echo Error: JAVA_HOME is set to an invalid directory. >&2
echo JAVA_HOME = "%JAVA_HOME%" >&2
echo Please set the JAVA_HOME variable in your environment to match the >&2
echo location of your Java installation. >&2
echo.
goto error

@REM ==== END VALIDATION ====

:init

@REM Find the project base dir, i.e. the directory that contains the folder ".mvn".
@REM Fallback to current working directory if not found.

set MAVEN_PROJECTBASEDIR=%MAVEN_BASEDIR%
IF NOT "%MAVEN_PROJECTBASEDIR%"=="" goto endDetectBaseDir

set EXEC_DIR=%CD%
set WDIR=%EXEC_DIR%
:findBaseDir
IF EXIST "%WDIR%"\.mvn goto baseDirFound
cd ..
IF "%WDIR%"=="%CD%" goto baseDirNotFound
set WDIR=%CD%
goto findBaseDir

:baseDirFound
set MAVEN_PROJECTBASEDIR=%WDIR%
cd "%EXEC_DIR%"
goto endDetectBaseDir

:baseDirNotFound
set MAVEN_PROJECTBASEDIR=%EXEC_DIR%
cd "%EXEC_DIR%"

:endDetectBaseDir

IF NOT EXIST "%MAVEN_PROJECTBASEDIR%\.mvn\jvm.config" goto endReadAdditionalConfig

@setlocal EnableExtensions EnableDelayedExpansion
for /F "usebackq delims=" %%a in ("%MAVEN_PROJECTBASEDIR%\.mvn\jvm.config") do set JVM_CONFIG_MAVEN_PROPS=!JVM_CONFIG_MAVEN_PROPS! %%a
@endlocal & set JVM_CONFIG_MAVEN_PROPS=%JVM_CONFIG_MAVEN_PROPS%

:endReadAdditionalConfig

SET MAVEN_JAVA_EXE="%JAVA_HOME%\bin\java.exe"
set WRAPPER_JAR="%MAVEN_PROJECTBASEDIR%\.mvn\wrapper\maven-wrapper.jar"
set WRAPPER_LAUNCHER=org.apache.maven.wrapper.MavenWrapperMain

set DOWNLOAD_URL="https://repo.maven.apache.org/maven2/org/apache/maven/wrapper/maven-wrapper/3.1.0/maven-wrapper-3.1.0.jar"

FOR /F "usebackq tokens=1,2 delims==" %%A IN ("%MAVEN_PROJECTBASEDIR%\.mvn\wrapper\maven-wrapper.properties") DO (
    IF "%%A"=="wrapperUrl" SET DOWNLOAD_URL=%%B
)

@REM Extension to allow automatically downloading the maven-wrapper.jar from Maven-central
@REM This allows using the maven wrapper in projects that prohibit checking in binary data.
if exist %WRAPPER_JAR% (
    if "%MVNW_VERBOSE%" == "true" (
        echo Found %WRAPPER_JAR%
    )
) else (
    if not "%MVNW_REPOURL%" == "" (
        SET DOWNLOAD_URL="%MVNW_REPOURL%/org/apache/maven/wrapper/maven-wrapper/3.1.0/maven-wrapper-3.1.0.jar"
    )
    if "%MVNW_VERBOSE%" == "true" (
        echo Couldn't find %WRAPPER_JAR%, downloading it ...
        echo Downloading from: %DOWNLOAD_URL%
    )

    powershell -Command "&{"^
		"$webclient = new-object System.Net.WebClient;"^
		"if (-not ([string]::IsNullOrEmpty('%MVNW_USERNAME%') -and [string]::IsNullOrEmpty('%MVNW_PASSWORD%'))) {"^
		"$webclient.Credentials = new-object System.Net.NetworkCredential('%MVNW_USERNAME%', '%MVNW_PASSWORD%');"^
		"}"^
		"[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12; $webclient.DownloadFile('%DOWNLOAD_URL%', '%WRAPPER_JAR%')"^
		"}"
    if "%MVNW_VERBOSE%" == "true" (
        echo Finished downloading %WRAPPER_JAR%
    )
)
@REM End of extension

@REM Provide a "standardized" way to retrieve the CLI args that will
@REM work with both Windows and non-Windows executions.
set MAVEN_CMD_LINE_ARGS=%*

%MAVEN_JAVA_EXE% ^
  %JVM_CONFIG_MAVEN_PROPS% ^
  %MAVEN_OPTS% ^
  %MAVEN_DEBUG_OPTS% ^
  -classpath %WRAPPER_JAR% ^
  "-Dmaven.multiModuleProjectDirectory=%MAVEN_PROJECTBASEDIR%" ^
  %WRAPPER_LAUNCHER% %MAVEN_CONFIG% %*
if ERRORLEVEL 1 goto error
goto end

:error
set ERROR_CODE=1

:end
@endlocal & set ERROR_CODE=%ERROR_CODE%

if not "%MAVEN_SKIP_RC%"=="" goto skipRcPost
@REM check for post script, once with legacy .bat ending and once with .cmd ending
if exist "%USERPROFILE%\mavenrc_post.bat" call "%USERPROFILE%\mavenrc_post.bat"
if exist "%USERPROFILE%\mavenrc_post.cmd" call "%USERPROFILE%\mavenrc_post.cmd"
:skipRcPost

@REM pause the script if MAVEN_BATCH_PAUSE is set to 'on'
if "%MAVEN_BATCH_PAUSE%"=="on" pause

if "%MAVEN_TERMINATE_CMD%"=="on" exit %ERROR_CODE%

cmd /C exit /B %ERROR_CODE%
</file>

<file path="pom.xml">
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>


    <groupId>com.queryresolvingsystem</groupId>
    <artifactId>QueryResolvingSystem</artifactId>
    <version>1.0-SNAPSHOT</version>
    <name>QueryResolvingSystem</name>
    <packaging>war</packaging>

    <properties>
        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
        <maven.compiler.target>1.8</maven.compiler.target>
        <maven.compiler.source>1.8</maven.compiler.source>
        <junit.version>5.8.2</junit.version>
    </properties>

    <dependencies>




        <dependency>
            <groupId>javax.servlet</groupId>
            <artifactId>javax.servlet-api</artifactId>
            <version>4.0.1</version>
            <scope>provided</scope>
        </dependency>



        <dependency>
            <groupId>org.junit.jupiter</groupId>
            <artifactId>junit-jupiter-api</artifactId>
            <version>${junit.version}</version>
            <scope>test</scope>
        </dependency>



        <!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api -->
        <dependency>
            <groupId>javax.servlet</groupId>
            <artifactId>javax.servlet-api</artifactId>
            <version>4.0.1</version>
            <scope>provided</scope>
        </dependency>

        <!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java -->
        <dependency>
            <groupId>mysql</groupId>
            <artifactId>mysql-connector-java</artifactId>
            <version>8.0.28</version>
        </dependency>

        <!-- https://mvnrepository.com/artifact/javax.servlet/jstl -->


        <dependency>
            <groupId>javax.servlet</groupId>
            <artifactId>jstl</artifactId>
            <version>1.2</version>
        </dependency>




        <dependency>
            <groupId>org.junit.jupiter</groupId>
            <artifactId>junit-jupiter-engine</artifactId>
            <version>${junit.version}</version>
            <scope>test</scope>
        </dependency>
    </dependencies>

    <build>
        <plugins>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-war-plugin</artifactId>
                <version>3.3.2</version>
            </plugin>
        </plugins>
    </build>
</project>
</file>

<file path="README.md">
# Complaint Management System

## Description

The Complaint Management System is a robust full-stack Java-based web application designed to streamline and enhance the process of handling complaints within an organization. This comprehensive system employs a stack of technologies, including Java, Servlets, JSP, HTML, CSS, MySQL, JDBC, and Tomcat Server 9.0, ensuring efficient functionality and user-friendly interfaces for employees, administrators (Admin/HODs), and engineers.

## Roles and Responsibilities

### Admin/HOD

- **Login/Logout:** Admins have secure access to the system, ensuring data integrity.
- **Complaint Management:** Admins can view all complaints raised by employees, facilitating centralized oversight.
- **Assignment and Updates:** They have the authority to assign and update engineers to specific complaints, expediting issue resolution.
- **Engineer Management:** Admins can register or remove engineers from the database as necessary, maintaining an up-to-date workforce.
- **Engineer Tracking:** Admins can view working engineers categorized by department for resource allocation.

### Employee

- **Registration/Login/Logout:** Employees can securely sign up and log in to the system.
- **Complaint Registration:** Employees can easily register complaints, providing comprehensive details for effective communication.
- **Complaint Tracking:** They have access to monitor all complaints they have raised and can search for specific ones, promoting transparency.
- **Password Management:** Employees have the capability to change their passwords, enhancing account security.

### Engineer

- **Login/Logout:** Engineers securely access the system for efficient operations.
- **Complaint Updates:** Engineers can update the status of the complaints they are handling, ensuring timely resolution and effective communication.
- **Solved Complaints:** Engineers can access records of all solved or partially solved problems, maintaining accountability and reference.
- **Password Change:** Engineers have the option to change their passwords, adhering to account security standards.

## Screenshots

### ER Diagram

![ER Diagram](https://user-images.githubusercontent.com/69399810/222488623-80ce806b-aa31-4f1c-b824-3db109556699.png)

### Complaint List

![Complaint List](https://user-images.githubusercontent.com/69399810/222489321-28a32d6f-f021-49f0-b945-3e733a3fb027.png)

### Engineer List

![Engineer List](https://user-images.githubusercontent.com/69399810/222489575-3fcf5328-3265-4f29-957a-a8a3c74d00df.png)

### Assign Engineer

![Assign Engineer](https://user-images.githubusercontent.com/69399810/222489715-435b5cc0-2998-481d-989e-3dbe4eb6a199.png)
![Assign Engineer](https://user-images.githubusercontent.com/69399810/222490090-795580ee-d1e9-4bfd-a55f-e5980f92f497.png)

### Register Engineer

![Register Engineer](https://user-images.githubusercontent.com/69399810/222490302-0ee2fe14-a77f-41ba-96ef-487a2683f7d8.png)

### Newly Assigned Query to Engineer

![Newly Assigned Query to Engineer](https://user-images.githubusercontent.com/69399810/222490437-053dc4b8-58f1-485a-b563-3737cb69e88f.png)

### Attempted Query

![Attempted Query](https://user-images.githubusercontent.com/69399810/222490696-73e940c0-b545-4725-b94b-2bcd922f595a.png)

### Change Password

![Change Password](https://user-images.githubusercontent.com/69399810/222490793-a9e26432-e1ff-4281-ba6e-44063b2fe0a5.png)
</file>

<file path="src/main/java/com/queryresolvingsystem/bean/Employee.java">
package com.queryresolvingsystem.bean;

public class Employee {
    private String username;
    private int password;



    public String getUsername() {
        return username;
    }

    public void setUsername(String username) {
        this.username = username;
    }

    public int getPassword() {
        return password;
    }

    public void setPassword(int password) {
        this.password = password;
    }

    @Override
    public String toString() {
        return "Employee{" +
                "username='" + username + '\'' +
                ", password=" + password +
                '}';
    }
}
</file>

<file path="src/main/java/com/queryresolvingsystem/bean/Engineer.java">
package com.queryresolvingsystem.bean;

public class Engineer {

    private String email;
    private int password;

    private  String Type;


    public String getEmail() {
        return email;
    }

    public void setEmail(String username) {
        this.email = username;
    }

    public int getPassword() {
        return password;
    }

    public void setPassword(int password) {
        this.password = password;
    }

    public String getType() {
        return Type;
    }

    public void setType(String type) {
        Type = type;
    }

    @Override
    public String toString() {
        return "Engineer{" +
                "username='" + email + '\'' +
                ", password=" + password +
                '}';
    }
}
</file>

<file path="src/main/java/com/queryresolvingsystem/bean/RaisedComplain.java">
package com.queryresolvingsystem.bean;

public class RaisedComplain {
    private int complainId;
    private String complainType;
    private String complainDetails;
    private String raisedBy;
    private String solveBy;
    private String status;

    public int getComplainId() {
        return complainId;
    }

    public void setComplainId(int complainId) {
        this.complainId = complainId;
    }

    public String getComplainType() {
        return complainType;
    }

    public void setComplainType(String complainType) {
        this.complainType = complainType;
    }

    public String getComplainDetails() {
        return complainDetails;
    }

    public void setComplainDetails(String complainDetails) {
        this.complainDetails = complainDetails;
    }

    public String getRaisedBy() {
        return raisedBy;
    }

    public void setRaisedBy(String raisedBy) {
        this.raisedBy = raisedBy;
    }

    public String getSolveBy() {
        return solveBy;
    }

    public void setSolveBy(String solveBy) {
        this.solveBy = solveBy;
    }

    public String getStatus() {
        return status;
    }

    public void setStatus(String status) {
        this.status = status;
    }

    @Override
    public String toString() {
        return "RaisedComplain{" +
                "complainId=" + complainId +
                ", complainType='" + complainType + '\'' +
                ", complainDetails='" + complainDetails + '\'' +
                ", raisedBy='" + raisedBy + '\'' +
                ", solveBy='" + solveBy + '\'' +
                ", status='" + status + '\'' +
                '}';
    }
}
</file>

<file path="src/main/java/com/queryresolvingsystem/dao/Dao_Implements.java">
package com.queryresolvingsystem.dao;



 import java.sql.Connection;

import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;

import java.util.ArrayList;
import java.util.List;

import com.queryresolvingsystem.DB_util.DB_Connect;
import com.queryresolvingsystem.bean.Engineer;
import com.queryresolvingsystem.bean.RaisedComplain;
import com.queryresolvingsystem.exceptions.EmployeeException;
import com.queryresolvingsystem.exceptions.EngineerException;

public class Dao_Implements implements Dao_Interface {
    @Override
    public String login_HOD( int password,String username) {

        String message="Unable to login...";

        try (Connection conn= DB_Connect.getConnection()){

            PreparedStatement ps=conn.prepareStatement(" select * from HOD where username='deba' AND password=1234");

            ResultSet rs = ps.executeQuery();

            if(rs.next() && rs.getString("username").equals(username) && password==rs.getInt("password")){
                 message="Login Successful";
            }


        } catch (SQLException e) {
            e.printStackTrace();
            message=e.getMessage();
        }
        return message;
    }

    @Override
    public String login_Employee(String username, int password) throws EmployeeException {
        String message="Unable to login...";

        try (Connection conn= DB_Connect.getConnection()){

            PreparedStatement ps=conn.prepareStatement("select * from employee where username=? AND password=?");

            ps.setString(1,username);
            ps.setInt(2,password);

            ResultSet rs = ps.executeQuery();

            if(rs.next() && rs.getString("username").equals(username) && password==rs.getInt("password")){
                message="Login Successful";
            }
            else throw new EmployeeException("No employee exists with these details");

        } catch (SQLException e) {
            e.printStackTrace();
            message=e.getMessage();
        }
        return message;
    }

    @Override
    public String signup_Employee(String username, int password) throws EmployeeException {
        String message="Unable to register...";


        if(!username.contains("@gmail.com")){ message="Does not contains @gmail.com"; return message;}

        try (Connection conn= DB_Connect.getConnection()){

            PreparedStatement ps=conn.prepareStatement("insert into employee values(?,?)");

            ps.setString(1,username);
            ps.setInt(2,password);

            int rs = ps.executeUpdate();

            if(rs>0){
                message="Sign up Successful";
            }


        } catch (SQLException e) {
            e.printStackTrace();
            message=e.getMessage();
            throw new EmployeeException(e.getMessage());
        }
        return message;
    }

    @Override
    public String login_Engineer(String username, int password) throws EngineerException {
        String message="Unable to login...";


        try (Connection conn= DB_Connect.getConnection()){

            PreparedStatement ps=conn.prepareStatement("select * from engineer where email=? AND password=?");

            ps.setString(1,username);
            ps.setInt(2,password);


            ResultSet rs = ps.executeQuery();

            if(rs.next() && rs.getString("email").equals(username) && password==rs.getInt("password")){
                message="Login Successful";
            }
            else throw new EngineerException("No engineer exists with these details");

        } catch (SQLException e) {
            e.printStackTrace();
            System.out.println(e.getMessage());
            message=e.getMessage();
        }
        return message;
    }

    @Override
    public String register_Engineer(Engineer engineer) throws EngineerException {

        String message="Unable to register fill the proper details";

        if(!engineer.getEmail().contains("@gmail.com")){
            throw new EngineerException("does not contains @gmail.com");
        }

        try(Connection conn=DB_Connect.getConnection()){

            PreparedStatement ps =conn.prepareStatement("insert into engineer values(?,?,?)");

            ps.setString(1, engineer.getEmail());
            ps.setInt(2,engineer.getPassword());
            ps.setString(3,engineer.getType());

            int result=ps.executeUpdate();

            if(result>0) message="Sign up successfully";

        }
        catch (SQLException e){
            throw new EngineerException(e.getMessage());
        }

        return message;
    }

    @Override
    public String Assign_Complain_To_Engineer(String username,int complainId) throws EngineerException {
        String message="Unable to assign try again...";

        if(!username.contains("@gmail.com")) {message="does not contain @gmail.com"; return message;}

        try(Connection conn=DB_Connect.getConnection()){

            PreparedStatement ps=conn.prepareStatement("update complain set solveby=? where complainID=?");

            ps.setString(1,username);
            ps.setInt(2,complainId);
            int result=ps.executeUpdate();

            if(result>0) message="Assigned successfully";

        }
        catch (SQLException e){
           message=e.getMessage();
        }
        return message;
    }

    @Override
    public List<RaisedComplain> list_Of_Complains_MapTo_Engineer(String email) {

        List<RaisedComplain> list=new ArrayList<>();

        /*Field           | Type        | Null | Key | Default | Extra |
+-----------------+-------------+------+-----+---------+-------+
| complainId      | int(11)     | NO   | PRI | NULL    |       |
| complainType    | varchar(30) | NO   |     | NULL    |       |
| complainDetails | varchar(80) | NO   |     | NULL    |       |
| raisedby        | varchar(20) | NO   |     | NULL    |       |
| solveby         | varchar(30) | YES  | MUL | NULL    |*/

        try(Connection conn=DB_Connect.getConnection()){
            PreparedStatement ps=conn.prepareStatement("select * from complain where status IS NULL and  solveby=?");
            ps.setString(1,email);

            ResultSet rs=ps.executeQuery();

            while (rs.next()){
                RaisedComplain raisedComplain=new RaisedComplain();
                raisedComplain.setComplainId(rs.getInt("complainId"));
                raisedComplain.setComplainType(rs.getString("complainType"));
                raisedComplain.setComplainDetails(rs.getString("complainDetails"));
                raisedComplain.setRaisedBy(rs.getString("raisedby"));
                raisedComplain.setSolveBy(rs.getString("solveby"));
                list.add(raisedComplain);
            }
        }
        catch (SQLException e){
            System.out.println(e.getMessage());
        }
        return list;
    }

    @Override
    public List<RaisedComplain> list_Of_Complains_Attend_By_Engineer(String email) {

        List<RaisedComplain> list=new ArrayList<>();


        try(Connection conn=DB_Connect.getConnection()){
            PreparedStatement ps=conn.prepareStatement(" select * from complain where status!='NULL' and  solveby=?");
            ps.setString(1,email);

            ResultSet rs=ps.executeQuery();

            while (rs.next()){
                RaisedComplain raisedComplain=new RaisedComplain();
                raisedComplain.setComplainId(rs.getInt("complainId"));
                raisedComplain.setComplainType(rs.getString("complainType"));
                raisedComplain.setComplainDetails(rs.getString("complainDetails"));
                raisedComplain.setRaisedBy(rs.getString("raisedby"));
                raisedComplain.setSolveBy(rs.getString("solveby"));
                list.add(raisedComplain);
            }
        }
        catch (SQLException e){
            System.out.println(e.getMessage());
        }
        return list;
    }

    @Override
    public List<RaisedComplain> open_Complains(String email) {
        List<RaisedComplain> list=new ArrayList<>();


        /*Field           | Type        | Null | Key | Default | Extra |
+-----------------+-------------+------+-----+---------+-------+
| complainId      | int(11)     | NO   | PRI | NULL    |       |
| complainType    | varchar(30) | NO   |     | NULL    |       |
| complainDetails | varchar(80) | NO   |     | NULL    |       |
| raisedby        | varchar(20) | NO   |     | NULL    |       |
| solveby         | varchar(30) | YES  | MUL | NULL    |*/
        try(Connection conn=DB_Connect.getConnection()){
            PreparedStatement ps=conn.prepareStatement("select * from complain where status!='NULL' AND solveby=?");

            ps.setString(1,email);
            ResultSet rs=ps.executeQuery();
            while(rs.next()){
                RaisedComplain raisedComplain=new RaisedComplain();
                raisedComplain.setComplainId(rs.getInt("complainId"));
                raisedComplain.setComplainType(rs.getString("complainType"));
                raisedComplain.setComplainDetails(rs.getString("complainDetails"));
                raisedComplain.setRaisedBy(rs.getString("raisedby"));
                raisedComplain.setSolveBy(rs.getString("solveby"));
                  raisedComplain.setStatus(rs.getString("status"));
                list.add(raisedComplain);
            }
        }
        catch (SQLException e){
            System.out.println(e.getMessage());
        }

        return list;

    }

    @Override
    public List<RaisedComplain> all_Raised_Complains() throws EmployeeException {
       List<RaisedComplain> list = new ArrayList<>();

       /* Field           | Type        | Null | Key | Default | Extra |
        +-----------------+-------------+------+-----+---------+-------+
        | complainId      | int(11)     | NO   | PRI | NULL    |       |
        | complainType    | varchar(30) | NO   |     | NULL    |       |
        | complainDetails | varchar(80) | NO   |     | NULL    |       |
        | raisedby        | varchar(20) | NO   |     | NULL    |       |
        | solveby         | varchar(30) | YES  | MUL | NULL    |       |
        +-----------------+-------------+------+-----+---------+-------+*/

       try (Connection conn=DB_Connect.getConnection()){

           PreparedStatement ps =conn.prepareStatement("select * from complain");

           ResultSet rs = ps.executeQuery();
           while(rs.next()){
               RaisedComplain raisedComplain=new RaisedComplain();

               raisedComplain.setComplainId(rs.getInt("complainId"));
               raisedComplain.setComplainType(rs.getString("complainType"));
               raisedComplain.setComplainDetails(rs.getString("complainDetails"));
               raisedComplain.setStatus(rs.getString("status"));
               raisedComplain.setRaisedBy(rs.getString("raisedby"));
               raisedComplain.setSolveBy(rs.getString("solveby"));
               list.add(raisedComplain);
           }

       }
       catch (SQLException e){
           System.out.println(e.getMessage());
       }
       return list;
    }

    @Override
    public List<Engineer> list_Of_Engineers() throws EngineerException {
        List<Engineer> list=new ArrayList<>();

        try(Connection conn=DB_Connect.getConnection()){
         PreparedStatement ps = conn.prepareStatement("select * from engineer");

         ResultSet rs=ps.executeQuery();

         /*+----------+-------------+------+-----+---------+-------+
            | Field    | Type        | Null | Key | Default | Extra |
            +----------+-------------+------+-----+---------+-------+
            | email    | varchar(30) | NO   | PRI | NULL    |       |
            | password | int(11)     | NO   |     | NULL    |       |
            | Type     | varchar(10) | NO   |     | NULL    |       |
            +----------+-------------+------+-----+---------+-------+*/

         while(rs.next()){
             Engineer engineer=new Engineer();
             engineer.setEmail(rs.getString("email"));
             engineer.setPassword(rs.getInt("password"));
             engineer.setType(rs.getString("Type"));
             list.add(engineer);
         }

        }
        catch (SQLException e){
            throw new EngineerException(e.getMessage());
        }

        return list;
    }

    @Override
    public String delete_Engineer(String username) throws EngineerException {
        String message="Username not found";

        try(Connection conn=DB_Connect.getConnection()) {


            PreparedStatement ps=conn.prepareStatement(" delete from engineer where email=?");
            ps.setString(1,username);
          int res1=  ps.executeUpdate();

          if(res1>0) message="Deleted successfully";

        }
        catch (SQLException e){
     throw new EngineerException(e.getMessage());
        }
        return message;
    }

    @Override
    public String update_Status(int complainId,String updateMessage) throws EmployeeException {
        String message="complainId is wrong..!";

        try(Connection conn=DB_Connect.getConnection()) {
            PreparedStatement ps= conn.prepareStatement("update  complain set status=? where complainid=?");
            ps.setString(1,updateMessage);
            ps.setInt(2,complainId);

            int res=ps.executeUpdate();
            if(res>0) message="Status update successfully";

        }
        catch (SQLException e){
           throw   new  EmployeeException(e.getMessage());
        }

        return message;
    }

    @Override
    public String Update_Password_Engineer(String username, int password,int new_Password) throws EngineerException {
        String message = "Wrong name..!";

        try (Connection conn =  DB_Connect.getConnection()) {

            PreparedStatement ps = conn.prepareStatement("update engineer set password=? where email=? and password=?");


            ps.setInt(1, new_Password);
            ps.setString(2, username);
            ps.setInt(3,password);


            int x = ps.executeUpdate();

            if (x > 0) message = "password Updated Successfully..!";

        } catch (SQLException e) {
            throw new EngineerException(e.getMessage());
        }

        return message;
    }

    @Override
    public String Update_Password_Employee(String username, int password,int new_Password) throws EmployeeException {
        String message = "Wrong name..!";

        try (Connection conn =  DB_Connect.getConnection()) {

            PreparedStatement ps = conn.prepareStatement("update employee set password=? where username=? and password=?");

            ps.setInt(1, new_Password);
            ps.setString(2, username);
            ps.setInt(3,password);


            int x = ps.executeUpdate();

            if (x > 0) message = "password Updated Successfully..!";

        } catch (SQLException e) {
            throw new EmployeeException(e.getMessage());
        }

        return message;
    }

    @Override
    public RaisedComplain check_Complain_Status(int complainId,String username) throws EmployeeException {
        RaisedComplain raisedComplain=new RaisedComplain();

        try (Connection conn =  DB_Connect.getConnection()) {

            PreparedStatement ps = conn.prepareStatement("select * from complain where complainid=? and raisedby=?");

            ps.setInt(1, complainId);
            ps.setString(2, username);



            ResultSet rs = ps.executeQuery();
            if(rs.next()){
                raisedComplain.setComplainId(rs.getInt("complainId"));
                raisedComplain.setComplainType(rs.getString("complainType"));
                raisedComplain.setComplainDetails(rs.getString("complainDetails"));
                raisedComplain.setRaisedBy(rs.getString("raisedby"));
                raisedComplain.setSolveBy(rs.getString("solveby"));
            }

        } catch (SQLException e) {
            throw new EmployeeException(e.getMessage());
        }

        return raisedComplain;
    }

    @Override
    public String Raise_A_Complain(String complain_Type, String complainDetails,String username) {
        String message="Ohh ohh something went wrong..!";
        if(username.trim().equals("")) {
        	return message="does not contain username";
        }
        try(Connection conn=DB_Connect.getConnection()){
            System.out.println("Executing....");
            PreparedStatement ps=conn.prepareStatement("SELECT FLOOR(RAND() * 99999) AS random_num\n" +
                    "   FROM complain" +
                    " WHERE  'random_num' NOT IN (SELECT complainID FROM complain)\n" +
                    "         LIMIT 1");


            ResultSet rs=ps.executeQuery();
            int complainId=0;
            if(rs.next()){
              complainId=  rs.getInt("random_num");
                System.out.println("Your generated ticket id is "+complainId);
            }
            else return message;

            PreparedStatement ps1=conn.prepareStatement("insert into complain(complainid,complainType,complainDetails,raisedby) values(?,?,?,?)");
            ps1.setInt(1,complainId);
            ps1.setString(2,complain_Type);
            ps1.setString(3,complainDetails);
            ps1.setString(4,username);

            int res=ps1.executeUpdate();
            if(res>0) message="Success"+","+complainId;

        }
        catch (SQLException e){
      message=e.getMessage();
        }
        return message;
    }

    @Override
    public List<RaisedComplain> check_All_Raised_Complain(String username) {
        List<RaisedComplain> list=new ArrayList<>();


        try(Connection conn=DB_Connect.getConnection()){
            PreparedStatement ps=conn.prepareStatement("select * from complain where  raisedby=?");
            ps.setString(1,username);

            ResultSet rs=ps.executeQuery();

            while (rs.next()){
                RaisedComplain raisedComplain=new RaisedComplain();
                raisedComplain.setComplainId(rs.getInt("complainId"));
                raisedComplain.setComplainType(rs.getString("complainType"));
                raisedComplain.setComplainDetails(rs.getString("complainDetails"));
                raisedComplain.setRaisedBy(rs.getString("raisedby"));
                raisedComplain.setSolveBy(rs.getString("solveby"));
                list.add(raisedComplain);
            }
        }
        catch (SQLException e){
            System.out.println(e.getMessage());
        }
        return list;
    }

	

	
}
</file>

<file path="src/main/java/com/queryresolvingsystem/dao/Dao_Interface.java">
package com.queryresolvingsystem.dao;

import java.util.List;

import com.queryresolvingsystem.bean.*;
import com.queryresolvingsystem.exceptions.*;

public interface Dao_Interface {

      String login_HOD(int password,String username);

      String login_Employee(String username,int password) throws EmployeeException;

       String signup_Employee(String username,int password)  throws EmployeeException;

      String login_Engineer(String username,int password)  throws EngineerException;

       String register_Engineer(Engineer engineer) throws EngineerException;

       String Assign_Complain_To_Engineer(String username,int complainId) throws EngineerException;

       List<RaisedComplain>  list_Of_Complains_MapTo_Engineer(String email);

 List<RaisedComplain>  list_Of_Complains_Attend_By_Engineer(String email);

       List<RaisedComplain>  open_Complains(String email);

       List<RaisedComplain> all_Raised_Complains() throws EmployeeException;

       List<Engineer> list_Of_Engineers() throws EngineerException;

       String delete_Engineer(String username) throws EngineerException;

       String update_Status(int complainId,String updateMessage) throws EmployeeException;

       String Update_Password_Engineer(String username,int password,int new_Password) throws EngineerException;

       String Update_Password_Employee(String username,int password,int new_Password) throws EmployeeException;

       RaisedComplain check_Complain_Status(int complainId,String username) throws EmployeeException;

       String  Raise_A_Complain(String complain_Type,String complainDetails,String username);

       List<RaisedComplain> check_All_Raised_Complain(String username);




       


}
</file>

<file path="src/main/java/com/queryresolvingsystem/DB_util/DB_Connect.java">
package com.queryresolvingsystem.DB_util;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.SQLException;

public class DB_Connect {

    public static Connection getConnection(){

      Connection conn=null;
        try {
            Class.forName("com.mysql.cj.jdbc.Driver");
        } catch (ClassNotFoundException e) {
            throw new RuntimeException(e);
        }

        String url = "jdbc:mysql://localhost:3306/construct_week";
        try {
            conn= DriverManager.getConnection(url,"root","12345678");
        }
        catch (SQLException e){
            e.printStackTrace();
            System.out.println(e.getMessage());
        }

        return conn;
    }



}
</file>

<file path="src/main/java/com/queryresolvingsystem/exceptions/EmployeeException.java">
package com.queryresolvingsystem.exceptions;

public class EmployeeException extends Exception{
    public EmployeeException(){

    }

    public EmployeeException(String message){
        super(message);
    }
}
</file>

<file path="src/main/java/com/queryresolvingsystem/exceptions/EngineerException.java">
package com.queryresolvingsystem.exceptions;

public class EngineerException extends Exception{
    public  EngineerException(){

    }

    public EngineerException(String message){
        super(message);
    }
}
</file>

<file path="src/main/java/com/queryresolvingsystem/web/EmployeeServlet.java">
package com.queryresolvingsystem.web;

import java.awt.List;
import java.io.IOException;
import java.sql.SQLException;

import com.mysql.cj.Session;
import com.queryresolvingsystem.bean.*;
import java.util.*;
import java.lang.*;
import java.io.*;

import javax.servlet.DispatcherType;
import javax.servlet.RequestDispatcher;
import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;

import com.queryresolvingsystem.dao.Dao_Implements;
import com.queryresolvingsystem.dao.Dao_Interface;
import com.queryresolvingsystem.exceptions.EmployeeException;
import com.queryresolvingsystem.exceptions.EngineerException;
import com.queryresolvingsystem.exceptions.EmployeeException;
 
@WebServlet({"/registerComplain","/signupemp","/loginemp","/emplogout","/checkstatus","/allrcomplains","/updateEmppassword"})
public class EmployeeServlet extends HttpServlet {
	
	private Dao_Interface dao;
	
	public  void init() throws ServletException {
		dao= new Dao_Implements();
	}
	
       
     
    
	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		 String action=request.getServletPath();
		   
		  try {
			switch (action) {
			case "/emplogout":
            	   logout(request,response);
               break;
               case "/allrcomplains":
            	   complain_History(request, response);
            	   break;
			}
		} catch (Exception e) {
			e.printStackTrace();
		} 
	}

 
	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		 String action=request.getServletPath();
		 response.setContentType("text/html");
		 
		  try {
			switch (action) {
			case "/signupemp":
				createNewAccount(request, response);
				break;
				case "/loginemp":
					login(request, response);
					break;
				case "/registerComplain":
					register_Complain(request, response);
					break;
				case "/checkstatus":
					check_Status(request, response);
					break;
					case"/updateEmppassword":
						changePassword(request, response);
						break;
		 
			}
		} catch (Exception e) {
			e.printStackTrace();
		}
	}
	
	private void createNewAccount(HttpServletRequest request, HttpServletResponse response) throws SQLException, IOException , ServletException {
		     String usernameString=request.getParameter("username");
		     int password=Integer.parseInt(request.getParameter("password").trim());
		    try {
				String messageString=dao.signup_Employee(usernameString, password);
				if(messageString.equals("Sign up Successful")) {
					response.sendRedirect("loginemployee.jsp");
				}
				else {
					response.sendRedirect("Error.jsp");
				}
				
			} catch (EmployeeException e) {
				response.sendRedirect("Error.jsp");
				e.printStackTrace();
			}
	}

	private void login(HttpServletRequest request,HttpServletResponse response) throws SQLException,IOException {
		  String userNameString=request.getParameter("username");
		  String passwordString=request.getParameter("password");
		  String messasgeString = "";
		 
				try {
					messasgeString = dao.login_Employee(userNameString.trim(), Integer.parseInt(passwordString.trim()));
				} catch (NumberFormatException e) {
					// TODO Auto-generated catch block
					e.printStackTrace();
				} catch (EmployeeException e) {
					// TODO Auto-generated catch block
					e.printStackTrace();
				}
			 
		if( messasgeString.equals("Login Successful")) {
			
		    System.out.print(messasgeString);
		       HttpSession session=request.getSession();
		       session.setAttribute("Empusername", userNameString);
		       session.setAttribute("Emppassword",passwordString);
			response.sendRedirect("employeenavbar.jsp");
		}
		else {
			response.sendRedirect("loginemployee.jsp");
		}
	}
 
	private void logout(HttpServletRequest request,HttpServletResponse response) throws SQLException,IOException{
		HttpSession session=request.getSession();
		session.removeAttribute("Eusername");
		session.invalidate();
		response.sendRedirect("engineerlogin.jsp");
	}

    private void register_Complain(HttpServletRequest request,HttpServletResponse response) throws SQLException,IOException{
         HttpSession session=request.getSession();
    	String usernameString=(String) session.getAttribute("Empusername");
    	
    	String problemsummaryString=request.getParameter("Etype");
    	String summaryString=request.getParameter("details");
    	String messageString=dao.Raise_A_Complain(problemsummaryString, summaryString, usernameString);
    	 
    	if(messageString.contains("Success")) {
    	String[] splitarrStrings=	messageString.split(",");
    		session.setAttribute("generatedCID",splitarrStrings[1]);
    		response.sendRedirect("generatedTicketId.jsp");
    	}
    	
    }


    private void check_Status(HttpServletRequest request,HttpServletResponse response) throws SQLException,IOException {
		 HttpSession session=request.getSession();
		 
    	int id=Integer.parseInt(request.getParameter("statusId").trim());
    	String usernameString=(String) session.getAttribute("Empusername");
    	
    	System.out.println(usernameString);
    	try {
			RaisedComplain complain=dao.check_Complain_Status(id, usernameString);
			System.out.println(complain);
			if(complain!=null) {
				System.out.println(id+"  "+usernameString);
			   request.setAttribute("getcomplain", complain);
			   RequestDispatcher dispatcher=request.getRequestDispatcher("searchresult.jsp");
			   dispatcher.forward(request, response);
			}
		} catch (EmployeeException | ServletException e) {
			e.printStackTrace();
		}
    	
    	
	}
    private void complain_History(HttpServletRequest request,HttpServletResponse response) throws SQLException,IOException {
    	 HttpSession session=request.getSession();
		 
     	String usernameString=(String) session.getAttribute("Empusername");
    	 System.out.println(usernameString);
    	java.util.List<RaisedComplain> complains=dao.check_All_Raised_Complain(usernameString);
    	request.setAttribute("allcomplains", complains);
    	RequestDispatcher dispatcher=request.getRequestDispatcher("allcomplains.jsp");
    	try {
			dispatcher.forward(request, response);
		} catch (ServletException | IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		} 
   	}
    
    private void changePassword(HttpServletRequest request,HttpServletResponse response) throws SQLException,IOException  {
    	HttpSession session=request.getSession();
		int new_password=Integer.parseInt(request.getParameter("new_password")) ;
		String usernameString=(String) session.getAttribute("Empusername");
	        
		int Epassword=Integer.parseInt((String) session.getAttribute("Emppassword"));
    	try {
			String message=dao.Update_Password_Employee(usernameString, Epassword, new_password);
		   
			if(message.equals("password Updated Successfully..!")) {
				System.out.println("SUCCESS");
				response.sendRedirect("successP.jsp");
			}
			else {
				response.sendRedirect("Error.jsp");
			}
    	
    	} catch ( EmployeeException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
	}
}
</file>

<file path="src/main/java/com/queryresolvingsystem/web/EngineerServlet.java">
package com.queryresolvingsystem.web;

import java.awt.List;
import java.io.IOException;
import java.sql.SQLException;

import com.mysql.cj.Session;
import com.queryresolvingsystem.bean.*;
import java.util.*;
import java.lang.*;
import java.io.*;

import javax.servlet.RequestDispatcher;
import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;

import com.queryresolvingsystem.dao.Dao_Implements;
import com.queryresolvingsystem.dao.Dao_Interface;
import com.queryresolvingsystem.exceptions.EmployeeException;
import com.queryresolvingsystem.exceptions.EngineerException;
 
@WebServlet({"/engineerlogin","/engineerlogout","/assignQueries","/updateStatus","/attemptedqueries","/updateEngpassword"})
public class EngineerServlet extends HttpServlet {
	
	private Dao_Interface dao;
	
	public  void init() throws ServletException {
		dao= new Dao_Implements();
	}
	
       
     
    
	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		 String action=request.getServletPath();
		 response.setContentType("text/html");
		 
		  try {
			switch (action) {
           
			case "/engineerlogout":
				logout(request, response);
				break;
			case "/assignQueries":
				getAssignQueries(request, response);
				break;
				
			case "/attemptedqueries":
				attemptQueries(request, response);
				break;
				
			default:
				break;
			}
		} catch (Exception e) {
			e.printStackTrace();
		} 
	}

 
	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		 String action=request.getServletPath();
		 response.setContentType("text/html");
		 
		  try {
			switch (action) {
			case "/engineerlogin":
				login(request, response);
				break;
			case "/updateStatus":
				updateStatus(request, response);
				break;
				case "/updateEngpassword":
					changePassword(request, response);
					break;
			}
		} catch (Exception e) {
			// TODO: handle exception
		}
	}
	
	private void getAssignQueries(HttpServletRequest request, HttpServletResponse response) throws SQLException, IOException , ServletException {
		    
		    HttpSession session=request.getSession();
		   String usernameString= (String) session.getAttribute("Eusername");
		   System.out.println(usernameString);
			java.util.List<RaisedComplain> assignTasksComplains=dao.list_Of_Complains_MapTo_Engineer(usernameString);
			System.out.println(assignTasksComplains);
		     request.setAttribute("new_assign_task", assignTasksComplains);
		     RequestDispatcher dispatcher=request.getRequestDispatcher("newtasktoengineer.jsp");
		     dispatcher.forward(request, response);
	}

	private void login(HttpServletRequest request,HttpServletResponse response) throws SQLException,IOException {
		  String userNameString=request.getParameter("username");
		  String passwordString=request.getParameter("password");
		  String messasgeString = "";
		try {
			messasgeString = dao.login_Engineer(userNameString.trim(), Integer.parseInt(passwordString.trim()));
		} catch (NumberFormatException e) {
			e.printStackTrace();
		} catch (EngineerException e) {
			e.printStackTrace();
		}
		if( messasgeString.equals("Login Successful")) {
			
		    System.out.print(messasgeString);
		       HttpSession session=request.getSession();
		       session.setAttribute("Eusername", userNameString);
		       session.setAttribute("Epassword",passwordString);
			response.sendRedirect("engineernavbar.jsp");
		}
		else {
			response.sendRedirect("engineerlogin.jsp");
		}
	}
   
	private void logout(HttpServletRequest request,HttpServletResponse response) throws SQLException,IOException{
		HttpSession session=request.getSession();
		session.removeAttribute("Eusername");
		session.invalidate();
		response.sendRedirect("engineerlogin.jsp");
	}

    private void updateStatus(HttpServletRequest request,HttpServletResponse response) throws SQLException,IOException{
    	
    	String idString=request.getParameter("complainId");
    	String statuString=request.getParameter("status");
    	 int id=Integer.parseInt(idString.trim());
    	 try {
			String message= dao.update_Status(id, statuString.trim());
			if(message.equals("Status update successfully")) {
				//System.out.print("SUCESS");
				response.sendRedirect("success.jsp");
			}
			else response.sendRedirect("Error.jsp");
		} catch (EmployeeException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
    	
    }


    private void attemptQueries(HttpServletRequest request,HttpServletResponse response) throws SQLException,IOException {
		HttpSession session=request.getSession();
		String usernameString=(String) session.getAttribute("Eusername");
    	java.util.List<RaisedComplain> complains=dao.open_Complains(usernameString);
    	
    	if(complains.size()!=0) {
    		request.setAttribute("attempt_queries", complains);
    		System.out.print(complains);
    		RequestDispatcher dispatcher=request.getRequestDispatcher("attemptedqueries.jsp");
    		try {
				dispatcher.forward(request, response);
			} catch (ServletException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			} catch (IOException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
    		
    	}
    	
    	
	}
    
    private void changePassword(HttpServletRequest request,HttpServletResponse response) throws SQLException,IOException  {
		HttpSession session=request.getSession();
		int new_password=Integer.parseInt(request.getParameter("new_password")) ;
		String usernameString=(String) session.getAttribute("Eusername");
		
		int Epassword=Integer.parseInt((String) session.getAttribute("Epassword"));
    	try {
			String message=dao.Update_Password_Engineer(usernameString, Epassword, new_password);
		   
			if(message.equals("password Updated Successfully..!")) {
				response.sendRedirect("successP.jsp");
			}
			else {
				response.sendRedirect("Error.jsp");
			}
    	
    	} catch (EngineerException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
	}
}
</file>

<file path="src/main/java/com/queryresolvingsystem/web/HOD_Servlet.java">
package com.queryresolvingsystem.web;

import java.io.IOException;
import java.sql.SQLException;
import java.util.*;
import java.lang.*;
import java.io.*;

import javax.servlet.RequestDispatcher;
import javax.servlet.ServletConfig;
import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;

import com.mysql.cj.Session;
import com.queryresolvingsystem.bean.Engineer;
import com.queryresolvingsystem.bean.RaisedComplain;
import com.queryresolvingsystem.dao.Dao_Implements;
import com.queryresolvingsystem.dao.Dao_Interface;
import com.queryresolvingsystem.exceptions.EmployeeException;
import com.queryresolvingsystem.exceptions.EngineerException;




@WebServlet("/")
public class HOD_Servlet extends HttpServlet {
	private static final long serialVersionUID = 1L;
	  private Dao_Interface dao;
    
	public void init() throws ServletException {
		  dao= new Dao_Implements();
	}
    
	protected void doPost(HttpServletRequest request,HttpServletResponse response) throws ServletException,IOException{
		 String action=request.getServletPath();
	
		 try {
				switch (action) {
			
					case "/RegisterEngineer":
						insert_Data(request, response);
						break;
						case "/assignTask":
							assign_Query(request, response);
					 break;
					 case "/login":
						 login(request, response);
				      break;
				}
			} catch (SQLException ex) {
				throw new ServletException(ex);
			}
	}
	
	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		 String action=request.getServletPath();
          
		 try {
				switch (action) {
				case "/complainlist":
					get_Query_Data(request, response);
					break;
				case "/engineerdata":
					get_Data(request, response);
					break;
				case "/delete":
					delete_Data(request, response);	
					break;
					 
				case "/logout":
					logout(request, response);
					break;
				}
			} catch (SQLException ex) {
				throw new ServletException(ex);
			}
	}
	
	
       
             
          private void insert_Data(HttpServletRequest request, HttpServletResponse response) throws SQLException, IOException  {
        	  response.setContentType("text/html; charset=UTF-8");
              String user_name=request.getParameter("email");	 
              String password=request.getParameter("password");	 
              int pass_trim=Integer.parseInt(password.trim());
              String Etype=request.getParameter("Etype");	 
              
           
               Engineer engineer=new Engineer();
               engineer.setEmail(user_name);
               engineer.setPassword(pass_trim);
               engineer.setType(Etype);
               
              try {
            	  String messageString=dao.register_Engineer(engineer);
				if(messageString.equals("Sign up successfully")) {
					response.sendRedirect("engineerdata");
					 
					System.out.println("SUCESS");
				}
			} catch (EngineerException e) {
				// TODO Auto-generated catch block
				System.out.println(e.getMessage());
				e.printStackTrace();
			}
              
        	  
             }

          
          private void delete_Data(HttpServletRequest request, HttpServletResponse response) throws SQLException, IOException  {

  	        
              String user_name=request.getParameter("email");	 

 
              try {
            	  System.out.println(user_name);
            	  String messageString=dao.delete_Engineer(user_name);
			   	if(messageString.equals("Deleted successfully")) {
			   	 response.sendRedirect("engineerdata");
			   	}
			} catch (EngineerException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
             
        	  
             }
          
          
          private void get_Data(HttpServletRequest request, HttpServletResponse response) throws SQLException, IOException, ServletException  {

        	 
              try {
            	  List<Engineer> list=	dao.list_Of_Engineers();
			 request.setAttribute("engineer_list", list);
			 RequestDispatcher dispatcher=request.getRequestDispatcher("engineerlist.jsp");
			 dispatcher.forward(request, response);
			} catch (EngineerException e) {
				e.printStackTrace();
			}
              
              
             
        	  
             }
          
          
          private void get_Query_Data(HttpServletRequest request, HttpServletResponse response) throws SQLException, IOException , ServletException {
  
        	  
        	  try {
        	  List<RaisedComplain>  list=	dao.all_Raised_Complains();

				  System.out.println(list);
			 
			 request.setAttribute("query_list", list);
			 RequestDispatcher dispatcher=request.getRequestDispatcher("querylist.jsp");
			 dispatcher.forward(request, response);
        	  }
        	  catch (Exception e) {
				// TODO: handle exception
        		  System.out.println(e.getMessage());
			}
        	   
             }


	private void assign_Query(HttpServletRequest request, HttpServletResponse response) throws SQLException, IOException  {


              String user_name=request.getParameter("username");	
              String complainIdString= request.getParameter("complainId");
              //System.out.println(user_name+" "+complainIdString);
              int Id=Integer.parseInt(complainIdString.trim());
              try {
                  if(dao.Assign_Complain_To_Engineer(user_name,Id).equals("Assigned successfully")) {

                    //  System.out.println(username+" "+complainId);
                      HttpSession session= request.getSession();

                      session.setAttribute("username", user_name);

                      response.sendRedirect("assignedSuccessful.jsp");
                     // System.out.println("success");
                  }
                  else {
                      response.sendRedirect("ErrorAssignTask.jsp");
                     // System.out.println("failed");
                  }
              } catch (EngineerException e) {
                  response.sendRedirect("ErrorAssignTask.jsp");
                 // System.out.println(e.getMessage());
              }
              
             }
      
	private void login(HttpServletRequest request,HttpServletResponse response) throws SQLException,IOException {
		  String userNameString=request.getParameter("username");
		  String passwordString=request.getParameter("password");
		  String messasgeString=dao.login_HOD(Integer.parseInt(passwordString.trim()), userNameString.trim());
		if( messasgeString.equals("Login Successful")) {
			
		    System.out.print(messasgeString);
		       HttpSession session=request.getSession();
		       session.setAttribute("username", userNameString);
		       
			response.sendRedirect("afterlogin.jsp");
		}
		else {
			response.sendRedirect("HOD_login.jsp");
		}
	}
	private void logout(HttpServletRequest request,HttpServletResponse response) throws SQLException,IOException{

		HttpSession session=request.getSession();
		session.removeAttribute("username");
		session.invalidate();
		response.sendRedirect("HOD_login.jsp");
		
	}
   
}
</file>

<file path="src/main/webapp/afterlogin.jsp">
<%@ page language="java" contentType="text/html; charset=UTF-8"
		 pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@ include file="navbar.jsp" %> 
<%@taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %>
<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>login after</title>
 <style type="text/css">
 
 div{
 display: grid;
 justify-content: center;
 }
 div>h4{
 display: flex;
 justify-content: center;
 margin:auto;
 padding:auto;
 margin-top: 20px;
 }
 div>h4>form{
 margin-top: 30px;
 }
 </style>
</head>
<body>
   
				
				   <%

   response.setHeader("Cache-Control", "no-cache, no-store, must-revalidate"); //HTTP 1.1
   
   response.setHeader("Pragma", "no-cache"); //HTTP 1.0
   
   response.setHeader("Expires", "0"); //Proxy server


   if(session.getAttribute("username")==null) response.sendRedirect("HOD_login.jsp");
   
%>
			  
			  
			  <div>
			    <h4>1. Want to see number of complain raised by employees :<a href="<%=request.getContextPath()%>/complainlist" class="nav-link">Number Of Complains</a></h4>  
					<h4>2. Want to see number of engineers working on employee query :  <a href="<%=request.getContextPath()%>/engineerdata" class="nav-link">Engineers list</a>  </h4> 
		          <h4>3. Want to add a new engineer :<a href="registerengineer.jsp" class="nav-link">Register New Engineer</a>   </h4>
		
			  </div>
</body>
</html>
</file>

<file path="src/main/webapp/allcomplains.jsp">
<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@ include file="employeenavbar.jsp" %> 
<%@taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %>


<html>
<head>
<title>User Management Application</title>
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
	integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
	crossorigin="anonymous">
	<style type="text/css">
  #delete{
	  background-color: #f14646;
	  color: aliceblue;

  }
  #delete>a{
	  color: white;
  }
  #delete:hover{
	  background-color: white;
  }
  #delete>a:hover{
	  color: #f14646;
  }
	</style>
</head>
<body>


	<div class="row">


		<div class="container">
			<h3 class="text-center">List of new Queries</h3>
			<hr>
			<div class="container text-left">


			</div>
			<br>
			<table class="table table-bordered">
				<thead>
					<tr>
					<th style="background-color: wheat">Query Id</th>
					 <th style="background-color: wheat">Query Type</th>
					 <th style="background-color: silver; color: #e7e7e7">Query Summary</th>
					 <th style="background-color: blue;color: antiquewhite">Querier</th>
					 <th style="background-color: blue;color: antiquewhite">status</th>
				

					</tr>
				</thead>
				<tbody>

    <c:forEach var="task" items="${allcomplains}">
                    <tr>
                     <td>  <c:out value="${task.complainId}"/></td>
					 <td>  <c:out value="${task.complainType}"/></td>
				   	<td><c:out value="${task.complainDetails}"/></td>
							<td>  <c:out value="${task.raisedBy}"/></td>
							   <td id="status"> <c:out value="${task.status != null ? query.status: 'NOT RESOLVED'}"/></td>
				 
						</tr>
    </c:forEach>


    </tbody>

			</table>
		</div>
	</div>
</body>
</html>
</file>

<file path="src/main/webapp/assignedSuccessful.jsp">
<%--
  Created by IntelliJ IDEA.
  User: devom
  Date: 27-12-2022
  Time: 21:03
  To change this template use File | Settings | File Templates.
--%>
<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<html>
<head>
    <title>SUCESS</title>
   <style type="text/css">
   h1{
  text-align: center;
  margin-top:300px; 
  color:white;
   }
   body{
   background-color:rgb(1, 30, 253) ;
   }
   </style>
</head>
<body>


<%

    response.setHeader("Cache-Control", "no-cache, no-store, must-revalidate"); //HTTP 1.1

    response.setHeader("Pragma", "no-cache"); //HTTP 1.0

    response.setHeader("Expires", "0"); //Proxy server


    if(session.getAttribute("username")==null) response.sendRedirect("ErrorAssignTask.jsp");

%>

 <h1> Task Successfully assigned to  ${ username}  </h1>
  




</body>
</html>
</file>

<file path="src/main/webapp/assignengineer.jsp">
<%@ page import="java.util.GregorianCalendar" %>
<%@ page import="java.util.Calendar" %>
<%@ page language="java" contentType="text/html; charset=UTF-8"
		 pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@ include file="navbar.jsp" %> 
<%@taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %>
<html>
<head>
<title>User Management Application</title>
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
	integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
	crossorigin="anonymous">
<meta charset="ISO-8859-1">
<style>
    #f{
         display: grid;
         justify-content: center;
         row-gap: 20px;
         margin-top: 100px;
}
   #f>input{
    height: 27px;
    width: 400px;
    border-radius: 20px;
  }
  input::placeholder {
    font-size: 22px;
    text-align: center;
  }
  body{
    background-color:rgb(6, 186, 251) ;
  }

     
</style>
<title>Assign to engineer</title>
</head>

    <form id="f" action="assignTask" method="post">
        <input type="hidden" value=<%=request.getParameter("complainId") %> name="complainId" placeholder="Enter the complain Id">
        <input type="text" name="username" placeholder="Enter Engineer Email Id">
        <input type="submit" style="background-color: rgb(13, 0, 96); color: azure;" value="Assign">
    </form>
</html>
</file>

<file path="src/main/webapp/attemptedqueries.jsp">
<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@ include file="engineernavbar.jsp" %>
<%@taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %>


<html>
<head>
<title>User Management Application</title>
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
	integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
	crossorigin="anonymous">
	<style type="text/css">
  #delete{
	  background-color: #f14646;
	  color: aliceblue;

  }
  #delete>a{
	  color: white;
  }
  #delete:hover{
	  background-color: white;
  }
  #delete>a:hover{
	  color: #f14646;
  }
	</style>
</head>
<body>


	<div class="row">


		<div class="container">
			<h3 class="text-center">List of Attempted Queries</h3>
			<hr>
			<div class="container text-left">


			</div>
			<br>
			<table class="table table-bordered">
				<thead>
					<tr>
					<th style="background-color: wheat">Query Id</th>
					 <th style="background-color: wheat">Query Type</th>
					 <th style="background-color: silver; color: #e7e7e7">Query Summary</th>
					 <th style="background-color: blue;color: antiquewhite">Querier</th>
					 <th style="background-color: blue;color: antiquewhite">status</th>
					 <th style="background-color: rgb(0, 102, 255) ;color: antiquewhite">UPDATE STATUS</th>
						

					</tr>
				</thead>
				<tbody>

    <c:forEach var="task" items="${attempt_queries}">
                    <tr>
                     <td>  <c:out value="${task.complainId}"/></td>
					 <td>  <c:out value="${task.complainType}"/></td>
				   	<td><c:out value="${task.complainDetails}"/></td>
							<td>  <c:out value="${task.raisedBy}"/></td>
							   <td id="status"> <c:out value="${task.status }"/></td>
				 <td> <a	href="updatestatus.jsp?complainId=${task.complainId}" />RE-UPDATE</a></td>
						</tr>
    </c:forEach>


    </tbody>

			</table>
		</div>
	</div>
</body>
</html>
</file>

<file path="src/main/webapp/changeEmpPassword.jsp">
<%@ page import="java.util.GregorianCalendar" %>
<%@ page import="java.util.Calendar" %>
<%@ page language="java" contentType="text/html; charset=UTF-8"
		 pageEncoding="UTF-8"%>
	<%@ include file="employeenavbar.jsp" %> 
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>

<%@taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %>
<html>
<head>
<title>User Management Application</title>
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
	integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
	crossorigin="anonymous">
<meta charset="ISO-8859-1">
<style>
    #f{
         display: grid;
         justify-content: center;
         row-gap: 20px;
         margin-top: 100px;

   #f>input{
    height: 27px;
    width: 400px;
    border-radius: 20px;
  }
  input::placeholder {
    font-size: 22px;
    text-align: center;
  }
  body{
    background-color:rgb(6, 186, 251) ;
  }

     
</style>
<title>Assign to engineer</title>
</head>

    <form id="f" action="updateEmppassword" method="post">
        <input type="hidden" value=<%=request.getParameter("Eusername") %> name="username">
        <input type="hidden"  value=<%=request.getParameter("Epassword") %> >
        <input type="number" name="new_password" placeholder="Enter new password" >
        <input type="submit" style="background-color: rgb(13, 0, 96); color: azure;" value="Change Password">
    </form>
</html>
</file>

<file path="src/main/webapp/changeengineerpass.jsp">
<%@ page import="java.util.GregorianCalendar" %>
<%@ page import="java.util.Calendar" %>
<%@ page language="java" contentType="text/html; charset=UTF-8"
		 pageEncoding="UTF-8"%>
		 <%@ include file="engineernavbar.jsp" %>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>

<%@taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %>
<html>
<head>
<title>User Management Application</title>
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
	integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
	crossorigin="anonymous">
<meta charset="ISO-8859-1">
<style>
    #f{
         display: grid;
         justify-content: center;
         row-gap: 20px;
         margin-top: 100px;
}
   #f>input{
    height: 27px;
    width: 400px;
    border-radius: 20px;
  }
  input::placeholder {
    font-size: 22px;
    text-align: center;
  }
  body{
    background-color:rgb(6, 186, 251) ;
  }

     
</style>
<title>Assign to engineer</title>
</head>

    <form id="f" action="updateEngpassword" method="post">
        <input type="hidden" value=<%=request.getParameter("Eusername") %> name="username">
        <input type="hidden"  value=<%=request.getParameter("Epassword") %> >
        <input type="number" name="new_password" placeholder="Enter new password" > 
        <input type="submit" style="background-color: rgb(13, 0, 96); color: azure;" value="Change Password">
    </form>
</html>
</file>

<file path="src/main/webapp/checkcstatus.jsp">
<%@page import="com.queryresolvingsystem.bean.RaisedComplain"%>
<%@ page import="java.util.GregorianCalendar" %>
<%@ page import="java.util.Calendar" %>
<%@ page language="java" contentType="text/html; charset=UTF-8"
		 pageEncoding="UTF-8"%>
		 <%@ include file="employeenavbar.jsp" %> 
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>

<%@taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %>
<html>
<head>
<title>User Management Application</title>
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
	integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
	crossorigin="anonymous">
<meta charset="ISO-8859-1">
<style>
    #f{
         display: grid;
         justify-content: center;
         row-gap: 20px;
         margin-top: 100px;
}
   #f>input{
    height: 27px;
    width: 400px;
    border-radius: 20px;
  }
  input::placeholder {
    font-size: 22px;
    text-align: center;
  }
  body{
    background-color:rgb(6, 186, 251) ;
  }

     
</style>
<title>Assign to engineer</title>
</head>
 
    <form id="f" action="checkstatus" method="post">
        <input type="number" name="statusId" placeholder="Enter your complain Id">
        <input type="submit" style="background-color: rgb(13, 0, 96); color: azure;" value="search">
    </form>
    

</html>
</file>

<file path="src/main/webapp/complainhistory.jsp">
<%@ page import="java.util.GregorianCalendar" %>
<%@ page import="java.util.Calendar" %>
<%@ page language="java" contentType="text/html; charset=UTF-8"
		 pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@ include file="employeenavbar.jsp" %> 

<%@taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %>
<html>
<head>
<title>User Management Application</title>
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
	integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
	crossorigin="anonymous">
	<style type="text/css">
       #nav{
       background:  #160046;

       }
       #nav>.navbar-brand{
       background: white;
     
       }
  

	</style>
</head>
<body>



	<div class="row">
		<!-- <div class="alert alert-success" *ngIf='message'>{{message}}</div> -->

		<div class="container">
			<h3 class="text-center">List of Complains</h3>
			<hr>
			<div class="container text-left">


			</div>
			<br>
			<table class="table table-bordered">
				<thead>
					<tr>
						<th style="background-color: antiquewhite">ComplainID</th>
						<th style="color: blue">Complain Type</th>
						<th style="color: blue">Complain Details</th>
						<th style="background-color: #06ffe5">Complain Status</th>
						<th style="background-color: #24ff00">QUERIER</th>
						<th style="background-color: #ffcf03">Assigned Engineer</th>
						<th style="background-color: #008cff" >Assign to Engineer</th>
					</tr>
				</thead>
				<tbody>



    <c:forEach var="query" items="${query_list}">

           <tr>
					 <td>  <c:out value="${query.complainId}"/></td>
							<td>   <c:out value="${query.complainType}"/></td>
							<td>  <c:out value="${query.complainDetails}"/></td>
			                <td id="status"> <c:out value="${query.status != null ? query.status: 'NOT RESOLVED'}"/></td>
							<td>     <c:out value="${query.raisedBy}"/></td>
							<td id="assignedE"> <c:out value="${query.solveBy != null ? query.solveBy: 'NOT ASSIGNED YET'}"/></td>

						 	<td> <a href="assignengineer.jsp?complainId=${query.complainId}">ASSIGN TASK</a></td>
						</tr>
    </c:forEach>


    </tbody>

			</table>
		</div>
	</div>
</body>
</html>
</file>

<file path="src/main/webapp/employeenavbar.jsp">
<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
 

<html>
<head>
<title>User Management Application</title>
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
	integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
	crossorigin="anonymous">
	<style type="text/css">
       #nav{
       background: #160046;
       }
       h1{
       color: #e7e7e7;
       }
       
     #form1>input{
        background-color: rgb(239, 0, 0);
        color: rgb(255, 255, 255);
         
        font-size: 20px;
     }
	</style>
</head>
<body>

  <%

   response.setHeader("Cache-Control", "no-cache, no-store, must-revalidate"); 
   
   response.setHeader("Pragma", "no-cache");
   
   response.setHeader("Expires", "0");  


   if(session.getAttribute("Empusername")==null) response.sendRedirect("loginemployee.jsp");
   
%>
	<header>
		<nav id="nav" class="navbar navbar-expand-md navbar-dark">
			<div>
				<a class="navbar-brand"> <h1 id="h1" >QUERY RESOLVING SYSTEM</h1> </a>

			</div>

			<ul class="navbar-nav">
				<li><a href="registerComplain.jsp"	class="nav-link">register a complain</a></li>
				<li> <a href="checkcstatus.jsp" class="nav-link">Check Status</a> </li>
				<li><a href="<%=request.getContextPath()%>/allrcomplains"
					class="nav-link">All Raised Complains</a></li>
				<li> <a href="changeEmpPassword.jsp" class="nav-link">Change Password</a> </li>
			  
			  <form id="form1" action="emplogout"><input type="submit"  class="nav-link" value="logout"></form>
			
			</ul>
		</nav>
		 
	</header>
	<br>

</body>
</html>
</file>

<file path="src/main/webapp/engineerlist.jsp">
<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %>
<%@ include file="navbar.jsp" %>

<html>
<head>
<title>User Management Application</title>
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
	integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
	crossorigin="anonymous">
	<style type="text/css">
  #delete{
	  background-color: #f14646;
	  color: aliceblue;

  }
  #delete>a{
	  color: white;
  }
  #delete:hover{
	  background-color: white;
  }
  #delete>a:hover{
	  color: #f14646;
  }
	</style>
</head>
<body>


	<div class="row">


		<div class="container">
			<h3 class="text-center">List of Engineers</h3>
			<hr>
			<div class="container text-left">


			</div>
			<br>
			<table class="table table-bordered">
				<thead>
					<tr>
						<th style="background-color: wheat">Email</th>
						<th style="background-color: blue; color: #e7e7e7">Password</th>
						<th style="background-color: blue;color: antiquewhite">Engineer Department</th>
						 <th style="background-color: red;color: white">Delete Engineer</th>

					</tr>
				</thead>
				<tbody>

    <c:forEach var="query" items="${engineer_list}">
                    <tr>
					 <td>  <c:out value="${query.email}"/></td>
							<td>     <c:out value="${query.password}"/></td>
							<td>  <c:out value="${query.type}"/></td>

							<td id="delete"> <a
				 	href="delete?email=<c:out value='${query.email}' />">DELETE ENGINEER</a></td>
						</tr>
    </c:forEach>


    </tbody>

			</table>
		</div>
	</div>
</body>
</html>
</file>

<file path="src/main/webapp/engineerlogin.jsp">
<%@ page language="java" contentType="text/html; charset=ISO-8859-1"
    pageEncoding="ISO-8859-1"%>

<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %>
<html>
<head>
<title>Engineer login</title>
<meta charset="ISO-8859-1">
<style>
    form{
         display: grid;
         justify-content: center;
         row-gap: 20px;
         margin-top: 100px;
}
  form>input{
    height: 27px;
    width: 400px;
  }
  input::placeholder {
    font-size: 22px;
    text-align: center;
  }
  body{
    background-color:rgb(6, 186, 251) ;
  }
  h1{
  margin-top:50px;
  text-align: center;
  color:white;
  
  }

     
</style>
<title>login</title>
</head>
  <h1> Engineer login</h1>
    <form action="engineerlogin" method="post">
   
   Enter username: <input type="text" name="username" placeholder="Enter your email" >  
   Enter password: <input type="password" name="password" placeholder="Type in Number">  
   
   <input type="submit" style="background-color: blue; color:white;" value="login">
     </form>
     <h1><a href="home.jsp">Home</a></h1>
</html>
</file>

<file path="src/main/webapp/engineernavbar.jsp">
<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
 

<html>
<head>
<title>User Management Application</title>
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
	integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
	crossorigin="anonymous">
	<style type="text/css">
       #nav{
       background: #160046;
       }
       h1{
       color: #e7e7e7;
       }
       
     #form1>input{
        background-color: rgb(239, 0, 0);
        color: rgb(255, 255, 255);
         
        font-size: 20px;
     }
	</style>
</head>
<body>

  <%

   response.setHeader("Cache-Control", "no-cache, no-store, must-revalidate"); 
   
   response.setHeader("Pragma", "no-cache"); 
   
   response.setHeader("Expires", "0");  


   if(session.getAttribute("Eusername")==null) response.sendRedirect("engineerlogin.jsp");
   
%>
	<header>
		<nav id="nav" class="navbar navbar-expand-md navbar-dark">
			<div>
				<a class="navbar-brand"> <h1 id="h1" >QUERY RESOLVING SYSTEM</h1> </a>

			</div>

			<ul class="navbar-nav">
				<li><a href="<%=request.getContextPath()%>/assignQueries"
					class="nav-link">New Assigned Queries</a></li>
				<li> <a href="<%=request.getContextPath()%>/attemptedqueries" class="nav-link">Attempted Queries</a> </li>
				<li> <a href="changeengineerpass.jsp" class="nav-link">Change Password</a> </li>
			  <form id="form1" action="engineerlogout"><input type="submit"  class="nav-link" value="logout"></form>
			</ul>
		</nav>
		 
	</header>
	<br>

</body>
</html>
</file>

<file path="src/main/webapp/Error.jsp">
<%@ page contentType="text/html;charset=UTF-8" language="java"  %>
<html>
<head>
    <title>ERROR</title>
   <style type="text/css">
   h1{
  text-align: center;
  margin-top:300px; 
  color:white;
   }
   body{
   background-color:red ;
   }
   </style>
</head>
<body>




 <h1> Some Error from your side Try again with correct input! </h1>
  

        



</body>
</html>
</file>

<file path="src/main/webapp/ErrorAssignTask.jsp">
<%--
  Created by IntelliJ IDEA.
  User: devom
  Date: 27-12-2022
  Time: 21:37
  To change this template use File | Settings | File Templates.
--%>
<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<html>
<head>
  <style>

    body{
      background-color: red;
    }
    .floating {  
    display: grid;
    margin: auto;
    animation-name: floating;
    animation-duration: 2s;
    animation-iteration-count: infinite;
    animation-timing-function: ease-in-out;
    margin-left: 30px;
    margin-top: 5px;
}

@keyframes floating {
    from { transform: translate(0,  0px); }
    50%  { transform: translate(0, 15px); }
    to   { transform: translate(0, -0px); }    
}

  </style>
    <title>Error</title>
</head>
<body>

   <div class="floating">
     <h1 style="color: white;">   OH OH! Your input is wrong...... TRY AGAIN!!!!!!!!!!!!!!!!</h1>
       
   </div>
   
   <div class="floating">
     <h1 style="color: white;">   OH OH! Your input is wrong...... TRY AGAIN!!!!!!!!!!!!!!!!</h1>
       
   </div>
   
   <div class="floating">
     <h1 style="color: white;">   OH OH! Your input is wrong...... TRY AGAIN!!!!!!!!!!!!!!!!</h1>
       
   </div>
   
   <div class="floating">
     <h1 style="color: white;">   OH OH! Your input is wrong...... TRY AGAIN!!!!!!!!!!!!!!!!</h1>
       
   </div>
   
   <div class="floating">
     <h1 style="color: white;">   OH OH! Your input is wrong...... TRY AGAIN!!!!!!!!!!!!!!!!</h1>
       
   </div>
   <div class="floating">
     <h1 style="color: white;">   OH OH! Your input is wrong...... TRY AGAIN!!!!!!!!!!!!!!!!</h1>
       
   </div>
   <div class="floating">
     <h1 style="color: white;">   OH OH! Your input is wrong...... TRY AGAIN!!!!!!!!!!!!!!!!</h1>
       
   </div>
 

   
   
     
</body>
</html>
</file>

<file path="src/main/webapp/generatedTicketId.jsp">
<%@ page language="java" contentType="text/html; charset=ISO-8859-1"
    pageEncoding="ISO-8859-1"%>
    <%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
<style type="text/css">
 h1{
  text-align: center;
  margin-top: 200px;
  
 }
 body{
 background-color: silver;
 }
</style>
</head>
<body>
<h1> Your generated Ticket ID is <% String message=(String) session.getAttribute("generatedCID"); 
     out.print(message);
     %> </h1>
    
  
</body>
</html>
</file>

<file path="src/main/webapp/HOD_login.jsp">
<%@ page language="java" contentType="text/html; charset=UTF-8"
		 pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %>
<html>
<head>
<title>User Management Application</title>
<meta charset="ISO-8859-1">
<style>
    form{
         display: grid;
         justify-content: center;
         row-gap: 20px;
         margin-top: 100px;
}
  form>input{
    height: 27px;
    width: 400px;
  }
  input::placeholder {
    font-size: 22px;
    text-align: center;
  }
  body{
    background-color:rgb(6, 186, 251) ;
  }
  h1{
  margin-top:50px;
  text-align: center;
  color:white;
  
  }

     
</style>
<title>login</title>
</head>
  <h1> Login of Head of Department</h1>
    <form action="login" method="post">
   
   Enter username: <input type="text" name="username" >  
   Enter password: <input type="password" name="password" >  
   
   <input type="submit" style="background-color: blue; color:white;" value="login">
     </form>
     <h1><a href="home.jsp">Home</a></h1>
</html>
</file>

<file path="src/main/webapp/home.jsp">
<%@ page language="java" contentType="text/html; charset=ISO-8859-1"
    pageEncoding="ISO-8859-1"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Home</title>
</head>
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
	integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
	crossorigin="anonymous">
<style>
#div1{
 display: grid;
 justify-content: center;
 background-color: purple;
}
body{
background-color: rgb(0, 102, 255);
}
</style>
<body>

<header>
		<nav id="nav" class="navbar navbar-expand-md navbar-dark">
			<div>
				<a class="navbar-brand"> <h1 > QUERY RESOLVING SYSTEM</h1> </a>

			</div>
			
			</nav>
			
			<div id="div1">
 <h1>Head of department login : <a href="HOD_login.jsp">HOD login</a></h1>
 
  <h1>Engineer login :<a href="engineerlogin.jsp">Engineer login</a></h1>
  
   <h1>Employee login :<a href="loginemployee.jsp">Employee login</a></h1>
</div>
			</header>



</body>
</html>
</file>

<file path="src/main/webapp/loginemployee.jsp">
<%@ page language="java" contentType="text/html; charset=UTF-8"
		 pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %>
<html>
<head>
<title>User Management Application</title>
<meta charset="ISO-8859-1">
<style>
    form{
         display: grid;
         justify-content: center;
         row-gap: 20px;
         margin-top: 100px;
}
  form>input{
    height: 27px;
    width: 400px;
  }
  input::placeholder {
    font-size: 22px;
    text-align: center;
  }
  body{
    background-color:rgb(6, 186, 251) ;
  }
  h1{
  margin-top:50px;
  text-align: center;
  color:white;
  
  }

     
</style>
<title>sign up</title>
</head>
  <h1> Employee Login</h1>
    <form action="loginemp" method="post">
   
   Enter username: <input type="text" name="username" placeholder="Enter your email">  
   Enter password: <input type="password" name="password" placeholder="Type in Number">  
   
   <input type="submit" style="background-color: blue; color:white;" value="login">
     </form>
     <h1><a href="home.jsp">Home</a></h1>
      <h1><a href="signup.jsp">Sign up</a></h1>
     
</html>
</file>

<file path="src/main/webapp/navbar.jsp">
<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
 

<html>
<head>
<title>User Management Application</title>
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
	integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
	crossorigin="anonymous">
	<style type="text/css">
       #nav{
       background: #160046;
       }
       h1{
       color: #e7e7e7;
       }
       
     #form1>input{
        background-color: rgb(239, 0, 0);
        color: rgb(255, 255, 255);
         
        font-size: 20px;
     }
	</style>
</head>
<body>

  <%

   response.setHeader("Cache-Control", "no-cache, no-store, must-revalidate"); 
   
   response.setHeader("Pragma", "no-cache"); 
   
   response.setHeader("Expires", "0");  


   if(session.getAttribute("username")==null) response.sendRedirect("HOD_login.jsp");
   
%>
	<header>
		<nav id="nav" class="navbar navbar-expand-md navbar-dark">
			<div>
				<a class="navbar-brand"> <h1 id="h1" > QUERY RESOLVING SYSTEM</h1> </a>

			</div>

			<ul class="navbar-nav">
				<li><a href="<%=request.getContextPath()%>/complainlist"
					class="nav-link">Number Of Complains</a></li>
				<li> <a href="<%=request.getContextPath()%>/engineerdata" class="nav-link">Engineers list</a> </li>
				<li> <a href="registerengineer.jsp" class="nav-link">Register New Engineer</a> </li>
			  <form id="form1" action="logout"><input type="submit"  class="nav-link" value="logout"></form>
			</ul>
		</nav>
		 
	</header>
	<br>

</body>
</html>
</file>

<file path="src/main/webapp/newtasktoengineer.jsp">
<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@ include file="engineernavbar.jsp" %>
<%@taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %>


<html>
<head>
<title>User Management Application</title>
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
	integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
	crossorigin="anonymous">
	<style type="text/css">
  #delete{
	  background-color: #f14646;
	  color: aliceblue;

  }
  #delete>a{
	  color: white;
  }
  #delete:hover{
	  background-color: white;
  }
  #delete>a:hover{
	  color: #f14646;
  }
	</style>
</head>
<body>


	<div class="row">


		<div class="container">
			<h3 class="text-center">List of new Queries</h3>
			<hr>
			<div class="container text-left">


			</div>
			<br>
			<table class="table table-bordered">
				<thead>
					<tr>
					<th style="background-color: wheat">Query Id</th>
					 <th style="background-color: wheat">Query Type</th>
					 <th style="background-color: silver; color: #e7e7e7">Query Summary</th>
					 <th style="background-color: blue;color: antiquewhite">Querier</th>
					 <th style="background-color: blue;color: antiquewhite">status</th>
					 <th style="background-color: rgb(0, 102, 255) ;color: antiquewhite">UPDATE STATUS</th>
						

					</tr>
				</thead>
				<tbody>

    <c:forEach var="task" items="${new_assign_task}">
                    <tr>
                     <td>  <c:out value="${task.complainId}"/></td>
					 <td>  <c:out value="${task.complainType}"/></td>
				   	<td><c:out value="${task.complainDetails}"/></td>
							<td>  <c:out value="${task.raisedBy}"/></td>
							   <td id="status"> <c:out value="${task.status != null ? query.status: 'NOT RESOLVED'}"/></td>
				 <td> <a	href="updatestatus.jsp?complainId=${task.complainId}" />UPDATE</a></td>
						</tr>
    </c:forEach>


    </tbody>

			</table>
		</div>
	</div>
</body>
</html>
</file>

<file path="src/main/webapp/querylist.jsp">
<%@ page import="java.util.GregorianCalendar" %>
<%@ page import="java.util.Calendar" %>
<%@ page language="java" contentType="text/html; charset=UTF-8"
		 pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@ include file="navbar.jsp" %> 
<%@taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %>
<html>
<head>
<title>User Management Application</title>
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
	integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
	crossorigin="anonymous">
	<style type="text/css">
       #nav{
       background:  #160046;

       }
       #nav>.navbar-brand{
       background: white;
     
       }
  

	</style>
</head>
<body>



	<div class="row">
		<!-- <div class="alert alert-success" *ngIf='message'>{{message}}</div> -->

		<div class="container">
			<h3 class="text-center">List of Complains</h3>
			<hr>
			<div class="container text-left">


			</div>
			<br>
			<table class="table table-bordered">
				<thead>
					<tr>
						<th style="background-color: antiquewhite">ComplainID</th>
						<th style="color: blue">Complain Type</th>
						<th style="color: blue">Complain Details</th>
						<th style="background-color: #06ffe5">Complain Status</th>
						<th style="background-color: #24ff00">QUERIER</th>
						<th style="background-color: #ffcf03">Assigned Engineer</th>
						<th style="background-color: #008cff" >Assign to Engineer</th>
					</tr>
				</thead>
				<tbody>



    <c:forEach var="query" items="${query_list}">

           <tr>
					 <td>  <c:out value="${query.complainId}"/></td>
							<td>   <c:out value="${query.complainType}"/></td>
							<td>  <c:out value="${query.complainDetails}"/></td>
			                <td id="status"> <c:out value="${query.status != null ? query.status: 'NOT RESOLVED'}"/></td>
							<td>     <c:out value="${query.raisedBy}"/></td>
							<td id="assignedE"> <c:out value="${query.solveBy != null ? query.solveBy: 'NOT ASSIGNED YET'}"/></td>

						 	<td> <a href="assignengineer.jsp?complainId=${query.complainId}">ASSIGN TASK</a></td>
						</tr>
    </c:forEach>


    </tbody>

			</table>
		</div>
	</div>
</body>
</html>
</file>

<file path="src/main/webapp/registerComplain.jsp">
<%@ page language="java" contentType="text/html; charset=UTF-8"
		 pageEncoding="UTF-8"%>
		 <meta charset="ISO-8859-1">
<%@ include file="employeenavbar.jsp" %> 

<html>
<head>
<title>User Management Application</title>
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
	integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
	crossorigin="anonymous">

</head>
<style>
h1{
text-align: center;
}
     #f2{
         display: grid;
         justify-content: center;
         row-gap: 20px;
         margin-top: 100px;
}
  #f2>input{
    height: 27px;
    width: 400px;
    border-radius: 20px;
  }
    #f2>option{
   margin: 0px 50px 0px 50px;
  }
  input::placeholder {
    font-size: 22px;
   
    text-align: center;
  }
  body{
    background-color:rgb(255, 255, 17) ;
  }

     
</style>
<body>
<h1>Register a new complain</h1>
<form id="f2" action="registerComplain" method="post">
    <input type="text" name="details" placeholder="explain your query in short">
    

   <select name="Etype" >
   <option  style="color:dimgrey">choose department</option>
  <option value="HARDWARE" style=" font-weight: 1000; font-size: 30px;">HARDWARE</option>
  <option value="SOFTWARE"style=" font-weight: 1000; font-size: 30px; "> SOFTWARE</option>
</select>
     <input type="submit" style="background-color: rgb(13, 0, 96); color: azure;" value="Register">

</form>

</body>
</html>
</file>

<file path="src/main/webapp/registerengineer.jsp">
<%@ page language="java" contentType="text/html; charset=UTF-8"
		 pageEncoding="UTF-8"%>
		 <meta charset="ISO-8859-1">

<%@ include file="navbar.jsp" %> 

<html>
<head>
<title>User Management Application</title>
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
	integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
	crossorigin="anonymous">

</head>
<style>
     #f2{
         display: grid;
         justify-content: center;
         row-gap: 20px;
         margin-top: 100px;
}
  #f2>input{
    height: 27px;
    width: 400px;
    border-radius: 20px;
  }
    #f2>option{
   margin: 0px 50px 0px 50px;
  }
  input::placeholder {
    font-size: 22px;
   
    text-align: center;
  }
  body{
    background-color:rgb(255, 255, 17) ;
  }

     
</style>
<body>

<form id="f2" action="RegisterEngineer" method="post">
    <input type="text" name="email" placeholder="enter engineer email">
    <input type="password"  oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" name="password"
     placeholder="enter engineer password(Numbers only)">
   
   <select name="Etype" >
   <option  style="color:dimgrey">choose department</option>
  <option value="HARDWARE" style=" font-weight: 1000; font-size: 30px;">HARDWARE</option>
  <option value="SOFTWARE"style=" font-weight: 1000; font-size: 30px; "> SOFTWARE</option>
</select>
     <input type="submit" style="background-color: rgb(13, 0, 96); color: azure;" value="Register">

</form>

</body>
</html>
</file>

<file path="src/main/webapp/searchresult.jsp">
<%@page import="com.queryresolvingsystem.bean.RaisedComplain"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>

<%@taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %>


<html>
<head>
<title>User Management Application</title>
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
	integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
	crossorigin="anonymous">
	<style type="text/css">
  h1{
   text-align: center;
   margin-top: 20px;
  }
  h{
  text-align: center;
   margin-bottom: 50px;
  }
  body{
  background-color: teal;
  }
	</style>
</head>
<body>
  <h1 id="h">SEARCH RESULT</h1>
  <h1 >==================================</h1>
 <%
   RaisedComplain complain=(RaisedComplain) request.getAttribute("getcomplain");
 out.println("<h1>"+"Complain ID :"+complain.getComplainId()+"</h1>");
 out.println("<h1>"+"Assigned Engineer: "+complain.getSolveBy()+"</h1>");
  out.println("<h1>"+"Complain Status :"+complain.getStatus()+"</h1>");
 %>
</body>
</html>
</file>

<file path="src/main/webapp/signup.jsp">
<%@ page language="java" contentType="text/html; charset=UTF-8"
		 pageEncoding="UTF-8" errorPage="Error.jsp"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %>
<html>
<head>
<title>User Management Application</title>
<meta charset="ISO-8859-1">
<style>
    form{
         display: grid;
         justify-content: center;
         row-gap: 20px;
         margin-top: 100px;
}
  form>input{
    height: 27px;
    width: 400px;
  }
  input::placeholder {
    font-size: 22px;
    text-align: center;
  }
  body{
    background-color:rgb(6, 186, 251) ;
  }
  h1{
  margin-top:50px;
  text-align: center;
  color:white;
  
  }

     
</style>
<title>sign up</title>
</head>
  <h1> Sign up as New Employee</h1>
    <form action="signupemp" method="post">
   
   Enter username: <input type="text" name="username" placeholder="must have valid email" >  
   Enter password: <input type="password" name="password" placeholder="Type in Number" >  
   
   <input type="submit" style="background-color: blue; color:white;" value="signup">
     </form>
     <h1><a href="home.jsp">Home</a></h1>
      <h1><a href="loginemployee.jsp">Login</a></h1>
     
</html>
</file>

<file path="src/main/webapp/success.jsp">
<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<html>
<head>
    <title>SUCESS</title>
   <style type="text/css">
   h1{
  text-align: center;
  margin-top:300px; 
  color:white;
   }
   body{
   background-color:rgb(1, 30, 253) ;
   }
   </style>
</head>
<body>




 <h1>Success </h1>
  




</body>
</html>
</file>

<file path="src/main/webapp/successP.jsp">
<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<html>
<head>
    <title>SUCESS</title>
   <style type="text/css">
   h1{
  text-align: center;
  margin-top:300px; 
  color:white;
   }
   body{
   background-color:rgb(1, 30, 253) ;
   }
   </style>
</head>
<body>




 <h1> Password Updated Successfully  </h1>
  




</body>
</html>
</file>

<file path="src/main/webapp/updatestatus.jsp">
<%@ page language="java" contentType="text/html; charset=UTF-8"
		 pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@ include file="engineernavbar.jsp" %>
<%@taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %>
<html>
<head>
<title>User Management Application</title>
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
	integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
	crossorigin="anonymous">
<meta charset="ISO-8859-1">
<style>
    #f{
         display: grid;
         justify-content: center;
         row-gap: 20px;
         margin-top: 100px;
}
   #f>input{
    height: 27px;
    width: 400px;
    border-radius: 20px;
  }
  input::placeholder {
    font-size: 22px;
    text-align: center;
  }
  body{
    background-color:rgb(6, 186, 251) ;
  }

     
</style>
<title>Update status</title>
</head>

    <form id="f" action="updateStatus" method="post">
        <input type="hidden" value=<%=request.getParameter("complainId")%> name="complainId" placeholder="Enter the complain Id">
        <input type="text" name="status" placeholder="status message">
        <input type="submit" style="background-color: rgb(13, 0, 96); color: azure;" value="UPDATE STATUS">
    </form>
</html>
</file>

<file path="src/main/webapp/WEB-INF/web.xml">
<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd"
         version="4.0">

</web-app>
</file>

</files>
